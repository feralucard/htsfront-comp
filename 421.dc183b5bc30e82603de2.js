(self.webpackChunkhts_frontend=self.webpackChunkhts_frontend||[]).push([[421],{3679:(c,_,r)=>{"use strict";r.d(_,{Zs:()=>rt,gN:()=>oe,Fj:()=>C,qu:()=>fn,NI:()=>ge,u:()=>Ze,sg:()=>Ve,u5:()=>hn,nD:()=>ot,Fd:()=>nt,qQ:()=>it,Cf:()=>H,JU:()=>O,a5:()=>de,JJ:()=>Ie,JL:()=>Te,F:()=>Re,On:()=>Ye,wV:()=>$e,c5:()=>st,UX:()=>It,Q7:()=>Le,kI:()=>z,_Y:()=>gt});var t=r(37716),a=r(38583),o=r(94402),d=r(35758),u=r(88002);let y=(()=>{class i{constructor(e,s){this._renderer=e,this._elementRef=s,this.onChange=v=>{},this.onTouched=()=>{}}setProperty(e,s){this._renderer.setProperty(this._elementRef.nativeElement,e,s)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.Qsj),t.Y36(t.SBq))},i.\u0275dir=t.lG2({type:i}),i})(),D=(()=>{class i extends y{}return i.\u0275fac=function(){let n;return function(s){return(n||(n=t.n5z(i)))(s||i)}}(),i.\u0275dir=t.lG2({type:i,features:[t.qOj]}),i})();const O=new t.OlP("NgValueAccessor"),E={provide:O,useExisting:(0,t.Gpc)(()=>C),multi:!0},T=new t.OlP("CompositionEventMode");let C=(()=>{class i extends y{constructor(e,s,v){super(e,s),this._compositionMode=v,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const i=(0,a.q)()?(0,a.q)().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.Qsj),t.Y36(t.SBq),t.Y36(T,8))},i.\u0275dir=t.lG2({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,s){1&e&&t.NdJ("input",function(B){return s._handleInput(B.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(B){return s._compositionEnd(B.target.value)})},features:[t._Bn([E]),t.qOj]}),i})();function S(i){return null==i||0===i.length}function w(i){return null!=i&&"number"==typeof i.length}const H=new t.OlP("NgValidators"),N=new t.OlP("NgAsyncValidators"),Y=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class z{static min(n){return te(n)}static max(n){return X(n)}static required(n){return $(n)}static requiredTrue(n){return ae(n)}static email(n){return S((i=n).value)||Y.test(i.value)?null:{email:!0};var i}static minLength(n){return i=n,n=>S(n.value)||!w(n.value)?null:n.value.length<i?{minlength:{requiredLength:i,actualLength:n.value.length}}:null;var i}static maxLength(n){return G(n)}static pattern(n){return l(n)}static nullValidator(n){return null}static compose(n){return le(n)}static composeAsync(n){return U(n)}}function te(i){return n=>{if(S(n.value)||S(i))return null;const e=parseFloat(n.value);return!isNaN(e)&&e<i?{min:{min:i,actual:n.value}}:null}}function X(i){return n=>{if(S(n.value)||S(i))return null;const e=parseFloat(n.value);return!isNaN(e)&&e>i?{max:{max:i,actual:n.value}}:null}}function $(i){return S(i.value)?{required:!0}:null}function ae(i){return!0===i.value?null:{required:!0}}function G(i){return n=>w(n.value)&&n.value.length>i?{maxlength:{requiredLength:i,actualLength:n.value.length}}:null}function l(i){if(!i)return h;let n,e;return"string"==typeof i?(e="","^"!==i.charAt(0)&&(e+="^"),e+=i,"$"!==i.charAt(i.length-1)&&(e+="$"),n=new RegExp(e)):(e=i.toString(),n=i),s=>{if(S(s.value))return null;const v=s.value;return n.test(v)?null:{pattern:{requiredPattern:e,actualValue:v}}}}function h(i){return null}function g(i){return null!=i}function A(i){const n=(0,t.QGY)(i)?(0,o.D)(i):i;return(0,t.CqO)(n),n}function F(i){let n={};return i.forEach(e=>{n=null!=e?Object.assign(Object.assign({},n),e):n}),0===Object.keys(n).length?null:n}function I(i,n){return n.map(e=>e(i))}function Z(i){return i.map(n=>function(i){return!i.validate}(n)?n:e=>n.validate(e))}function le(i){if(!i)return null;const n=i.filter(g);return 0==n.length?null:function(e){return F(I(e,n))}}function W(i){return null!=i?le(Z(i)):null}function U(i){if(!i)return null;const n=i.filter(g);return 0==n.length?null:function(e){const s=I(e,n).map(A);return(0,d.D)(s).pipe((0,u.U)(F))}}function Q(i){return null!=i?U(Z(i)):null}function f(i,n){return null===i?[n]:Array.isArray(i)?[...i,n]:[i,n]}function m(i){return i._rawValidators}function k(i){return i._rawAsyncValidators}function V(i){return i?Array.isArray(i)?i:[i]:[]}function q(i,n){return Array.isArray(i)?i.includes(n):i===n}function re(i,n){const e=V(n);return V(i).forEach(v=>{q(e,v)||e.push(v)}),e}function ue(i,n){return V(n).filter(e=>!q(i,e))}let he=(()=>{class i{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=W(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Q(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,s){return!!this.control&&this.control.hasError(e,s)}getError(e,s){return this.control?this.control.getError(e,s):null}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=t.lG2({type:i}),i})(),oe=(()=>{class i extends he{get formDirective(){return null}get path(){return null}}return i.\u0275fac=function(){let n;return function(s){return(n||(n=t.n5z(i)))(s||i)}}(),i.\u0275dir=t.lG2({type:i,features:[t.qOj]}),i})();class de extends he{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ae{constructor(n){this._cd=n}is(n){var e,s,v;return"submitted"===n?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(v=null===(s=this._cd)||void 0===s?void 0:s.control)||void 0===v?void 0:v[n])}}let Ie=(()=>{class i extends Ae{constructor(e){super(e)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(de,2))},i.\u0275dir=t.lG2({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,s){2&e&&t.ekj("ng-untouched",s.is("untouched"))("ng-touched",s.is("touched"))("ng-pristine",s.is("pristine"))("ng-dirty",s.is("dirty"))("ng-valid",s.is("valid"))("ng-invalid",s.is("invalid"))("ng-pending",s.is("pending"))},features:[t.qOj]}),i})(),Te=(()=>{class i extends Ae{constructor(e){super(e)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(oe,10))},i.\u0275dir=t.lG2({type:i,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,s){2&e&&t.ekj("ng-untouched",s.is("untouched"))("ng-touched",s.is("touched"))("ng-pristine",s.is("pristine"))("ng-dirty",s.is("dirty"))("ng-valid",s.is("valid"))("ng-invalid",s.is("invalid"))("ng-pending",s.is("pending"))("ng-submitted",s.is("submitted"))},features:[t.qOj]}),i})();function me(i,n){return[...n.path,i]}function _e(i,n){Be(i,n),n.valueAccessor.writeValue(i.value),function(i,n){n.valueAccessor.registerOnChange(e=>{i._pendingValue=e,i._pendingChange=!0,i._pendingDirty=!0,"change"===i.updateOn&&ct(i,n)})}(i,n),function(i,n){const e=(s,v)=>{n.valueAccessor.writeValue(s),v&&n.viewToModelUpdate(s)};i.registerOnChange(e),n._registerOnDestroy(()=>{i._unregisterOnChange(e)})}(i,n),function(i,n){n.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,"blur"===i.updateOn&&i._pendingChange&&ct(i,n),"submit"!==i.updateOn&&i.markAsTouched()})}(i,n),function(i,n){if(n.valueAccessor.setDisabledState){const e=s=>{n.valueAccessor.setDisabledState(s)};i.registerOnDisabledChange(e),n._registerOnDestroy(()=>{i._unregisterOnDisabledChange(e)})}}(i,n)}function Ce(i,n,e=!0){const s=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(s),n.valueAccessor.registerOnTouched(s)),Fe(i,n),i&&(n._invokeOnDestroyCallbacks(),i._registerOnCollectionChange(()=>{}))}function pe(i,n){i.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function Be(i,n){const e=m(i);null!==n.validator?i.setValidators(f(e,n.validator)):"function"==typeof e&&i.setValidators([e]);const s=k(i);null!==n.asyncValidator?i.setAsyncValidators(f(s,n.asyncValidator)):"function"==typeof s&&i.setAsyncValidators([s]);const v=()=>i.updateValueAndValidity();pe(n._rawValidators,v),pe(n._rawAsyncValidators,v)}function Fe(i,n){let e=!1;if(null!==i){if(null!==n.validator){const v=m(i);if(Array.isArray(v)&&v.length>0){const B=v.filter(se=>se!==n.validator);B.length!==v.length&&(e=!0,i.setValidators(B))}}if(null!==n.asyncValidator){const v=k(i);if(Array.isArray(v)&&v.length>0){const B=v.filter(se=>se!==n.asyncValidator);B.length!==v.length&&(e=!0,i.setAsyncValidators(B))}}}const s=()=>{};return pe(n._rawValidators,s),pe(n._rawAsyncValidators,s),e}function ct(i,n){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function ut(i,n){Be(i,n)}function Ne(i,n){if(!i.hasOwnProperty("model"))return!1;const e=i.model;return!!e.isFirstChange()||!Object.is(n,e.currentValue)}function ht(i,n){i._syncPendingControls(),n.forEach(e=>{const s=e.control;"submit"===s.updateOn&&s._pendingChange&&(e.viewToModelUpdate(s._pendingValue),s._pendingChange=!1)})}function je(i,n){if(!n)return null;let e,s,v;return Array.isArray(n),n.forEach(B=>{B.constructor===C?e=B:function(i){return Object.getPrototypeOf(i.constructor)===D}(B)?s=B:v=B}),v||s||e||null}function ke(i,n){const e=i.indexOf(n);e>-1&&i.splice(e,1)}const xe="VALID",Pe="INVALID",be="PENDING",Se="DISABLED";function We(i){return(Ke(i)?i.validators:i)||null}function dt(i){return Array.isArray(i)?W(i):i||null}function Ge(i,n){return(Ke(n)?n.asyncValidators:i)||null}function ft(i){return Array.isArray(i)?Q(i):i||null}function Ke(i){return null!=i&&!Array.isArray(i)&&"object"==typeof i}class ze{constructor(n,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=n,this._rawAsyncValidators=e,this._composedValidatorFn=dt(this._rawValidators),this._composedAsyncValidatorFn=ft(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===xe}get invalid(){return this.status===Pe}get pending(){return this.status==be}get disabled(){return this.status===Se}get enabled(){return this.status!==Se}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._rawValidators=n,this._composedValidatorFn=dt(n)}setAsyncValidators(n){this._rawAsyncValidators=n,this._composedAsyncValidatorFn=ft(n)}addValidators(n){this.setValidators(re(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(re(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(ue(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(ue(n,this._rawAsyncValidators))}hasValidator(n){return q(this._rawValidators,n)}hasAsyncValidator(n){return q(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=be,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=Se,this.errors=null,this._forEachChild(s=>{s.disable(Object.assign(Object.assign({},n),{onlySelf:!0}))}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},n),{skipPristineCheck:e})),this._onDisabledChange.forEach(s=>s(!0))}enable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=xe,this._forEachChild(s=>{s.enable(Object.assign(Object.assign({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},n),{skipPristineCheck:e})),this._onDisabledChange.forEach(s=>s(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===xe||this.status===be)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Se:xe}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=be,this._hasOwnPendingAsyncValidator=!0;const e=A(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(s=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(s,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(!1!==e.emitEvent)}get(n){return function(i,n,e){if(null==n||(Array.isArray(n)||(n=n.split(".")),Array.isArray(n)&&0===n.length))return null;let s=i;return n.forEach(v=>{s=s instanceof Oe?s.controls.hasOwnProperty(v)?s.controls[v]:null:s instanceof qe&&s.at(v)||null}),s}(this,n)}getError(n,e){const s=e?this.get(e):this;return s&&s.errors?s.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new t.vpe,this.statusChanges=new t.vpe}_calculateStatus(){return this._allControlsDisabled()?Se:this.errors?Pe:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(be)?be:this._anyControlsHaveStatus(Pe)?Pe:xe}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_isBoxedValue(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){Ke(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class ge extends ze{constructor(n=null,e,s){super(We(e),Ge(s,e)),this._onChange=[],this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(s=>s(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=null,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){ke(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){ke(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){this._isBoxedValue(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}}class Oe extends ze{constructor(n,e,s){super(We(e),Ge(s,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,e){return this.controls[n]?this.controls[n]:(this.controls[n]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(n,e,s={}){this.registerControl(n,e),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}removeControl(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(n,e,s={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],e&&this.registerControl(n,e),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,e={}){this._checkAllValuesPresent(n),Object.keys(n).forEach(s=>{this._throwIfControlMissing(s),this.controls[s].setValue(n[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){null!=n&&(Object.keys(n).forEach(s=>{this.controls[s]&&this.controls[s].patchValue(n[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n={},e={}){this._forEachChild((s,v)=>{s.reset(n[v],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(n,e,s)=>(n[s]=e instanceof ge?e.value:e.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(e,s)=>!!s._syncPendingControls()||e);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_throwIfControlMissing(n){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[n])throw new Error(`Cannot find form control with name: ${n}.`)}_forEachChild(n){Object.keys(this.controls).forEach(e=>{const s=this.controls[e];s&&n(s,e)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const e of Object.keys(this.controls)){const s=this.controls[e];if(this.contains(e)&&n(s))return!0}return!1}_reduceValue(){return this._reduceChildren({},(n,e,s)=>((e.enabled||this.disabled)&&(n[s]=e.value),n))}_reduceChildren(n,e){let s=n;return this._forEachChild((v,B)=>{s=e(s,v,B)}),s}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(n){this._forEachChild((e,s)=>{if(void 0===n[s])throw new Error(`Must supply a value for form control with name: '${s}'.`)})}}class qe extends ze{constructor(n,e,s){super(We(e),Ge(s,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(n){return this.controls[n]}push(n,e={}){this.controls.push(n),this._registerControl(n),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(n,e,s={}){this.controls.splice(n,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:s.emitEvent})}removeAt(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(n,e,s={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),e&&(this.controls.splice(n,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,e={}){this._checkAllValuesPresent(n),n.forEach((s,v)=>{this._throwIfControlMissing(v),this.at(v).setValue(s,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){null!=n&&(n.forEach((s,v)=>{this.at(v)&&this.at(v).patchValue(s,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n=[],e={}){this._forEachChild((s,v)=>{s.reset(n[v],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(n=>n instanceof ge?n.value:n.getRawValue())}clear(n={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_syncPendingControls(){let n=this.controls.reduce((e,s)=>!!s._syncPendingControls()||e,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_throwIfControlMissing(n){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(n))throw new Error(`Cannot find form control at index ${n}`)}_forEachChild(n){this.controls.forEach((e,s)=>{n(e,s)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(e=>e.enabled&&n(e))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_checkAllValuesPresent(n){this._forEachChild((e,s)=>{if(void 0===n[s])throw new Error(`Must supply a value for form control at index: ${s}.`)})}_allControlsDisabled(){for(const n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}}const Ht={provide:oe,useExisting:(0,t.Gpc)(()=>Re)},De=(()=>Promise.resolve(null))();let Re=(()=>{class i extends oe{constructor(e,s){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new t.vpe,this.form=new Oe({},W(e),Q(s))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){De.then(()=>{const s=this._findContainer(e.path);e.control=s.registerControl(e.name,e.control),_e(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){De.then(()=>{const s=this._findContainer(e.path);s&&s.removeControl(e.name),ke(this._directives,e)})}addFormGroup(e){De.then(()=>{const s=this._findContainer(e.path),v=new Oe({});ut(v,e),s.registerControl(e.name,v),v.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){De.then(()=>{const s=this._findContainer(e.path);s&&s.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,s){De.then(()=>{this.form.get(e.path).setValue(s)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,ht(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(H,10),t.Y36(N,10))},i.\u0275dir=t.lG2({type:i,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,s){1&e&&t.NdJ("submit",function(B){return s.onSubmit(B)})("reset",function(){return s.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[t._Bn([Ht]),t.qOj]}),i})();const Bt={provide:de,useExisting:(0,t.Gpc)(()=>Ye)},pt=(()=>Promise.resolve(null))();let Ye=(()=>{class i extends de{constructor(e,s,v,B){super(),this.control=new ge,this._registered=!1,this.update=new t.vpe,this._parent=e,this._setValidators(s),this._setAsyncValidators(v),this.valueAccessor=je(0,B)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),Ne(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?me(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){_e(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){pt.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const s=e.isDisabled.currentValue,v=""===s||s&&"false"!==s;pt.then(()=>{v&&!this.control.disabled?this.control.disable():!v&&this.control.disabled&&this.control.enable()})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(oe,9),t.Y36(H,10),t.Y36(N,10),t.Y36(O,10))},i.\u0275dir=t.lG2({type:i,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[t._Bn([Bt]),t.qOj,t.TTD]}),i})(),gt=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=t.lG2({type:i,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),i})();const Nt={provide:O,useExisting:(0,t.Gpc)(()=>$e),multi:!0};let $e=(()=>{class i extends D{writeValue(e){this.setProperty("value",null==e?"":e)}registerOnChange(e){this.onChange=s=>{e(""==s?null:parseFloat(s))}}}return i.\u0275fac=function(){let n;return function(s){return(n||(n=t.n5z(i)))(s||i)}}(),i.\u0275dir=t.lG2({type:i,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,s){1&e&&t.NdJ("input",function(B){return s.onChange(B.target.value)})("blur",function(){return s.onTouched()})},features:[t._Bn([Nt]),t.qOj]}),i})(),vt=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({}),i})();const Je=new t.OlP("NgModelWithFormControlWarning"),zt={provide:oe,useExisting:(0,t.Gpc)(()=>Ve)};let Ve=(()=>{class i extends oe{constructor(e,s){super(),this.validators=e,this.asyncValidators=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new t.vpe,this._setValidators(e),this._setAsyncValidators(s)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Fe(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const s=this.form.get(e.path);return _e(s,e),s.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),s}getControl(e){return this.form.get(e.path)}removeControl(e){Ce(e.control||null,e,!1),ke(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,s){this.form.get(e.path).setValue(s)}onSubmit(e){return this.submitted=!0,ht(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const s=e.control,v=this.form.get(e.path);s!==v&&(Ce(s||null,e),v instanceof ge&&(_e(v,e),e.control=v))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const s=this.form.get(e.path);ut(s,e),s.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const s=this.form.get(e.path);s&&function(i,n){return Fe(i,n)}(s,e)&&s.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Be(this.form,this),this._oldForm&&Fe(this._oldForm,this)}_checkFormPresent(){}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(H,10),t.Y36(N,10))},i.\u0275dir=t.lG2({type:i,selectors:[["","formGroup",""]],hostBindings:function(e,s){1&e&&t.NdJ("submit",function(B){return s.onSubmit(B)})("reset",function(){return s.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[t._Bn([zt]),t.qOj,t.TTD]}),i})();const $t={provide:de,useExisting:(0,t.Gpc)(()=>Ze)};let Ze=(()=>{class i extends de{constructor(e,s,v,B,se){super(),this._ngModelWarningConfig=se,this._added=!1,this.update=new t.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(s),this._setAsyncValidators(v),this.valueAccessor=je(0,B)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),Ne(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return me(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(oe,13),t.Y36(H,10),t.Y36(N,10),t.Y36(O,10),t.Y36(Je,8))},i.\u0275dir=t.lG2({type:i,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[t._Bn([$t]),t.qOj,t.TTD]}),i._ngModelWarningSentOnce=!1,i})();let xt=(()=>{class i{constructor(){this._validator=h}handleChanges(e){if(this.inputName in e){const s=this.normalizeInput(e[this.inputName].currentValue);this._validator=this.createValidator(s),this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=t.lG2({type:i}),i})();const nn={provide:H,useExisting:(0,t.Gpc)(()=>nt),multi:!0};let nt=(()=>{class i extends xt{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=e=>parseFloat(e),this.createValidator=e=>X(e)}ngOnChanges(e){this.handleChanges(e)}}return i.\u0275fac=function(){let n;return function(s){return(n||(n=t.n5z(i)))(s||i)}}(),i.\u0275dir=t.lG2({type:i,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(e,s){if(2&e){let v;t.uIk("max",null!==(v=s.max)&&void 0!==v?v:null)}},inputs:{max:"max"},features:[t._Bn([nn]),t.qOj,t.TTD]}),i})();const rn={provide:H,useExisting:(0,t.Gpc)(()=>it),multi:!0};let it=(()=>{class i extends xt{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=e=>parseFloat(e),this.createValidator=e=>te(e)}ngOnChanges(e){this.handleChanges(e)}}return i.\u0275fac=function(){let n;return function(s){return(n||(n=t.n5z(i)))(s||i)}}(),i.\u0275dir=t.lG2({type:i,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(e,s){if(2&e){let v;t.uIk("min",null!==(v=s.min)&&void 0!==v?v:null)}},inputs:{min:"min"},features:[t._Bn([rn]),t.qOj,t.TTD]}),i})();const on={provide:H,useExisting:(0,t.Gpc)(()=>Le),multi:!0},sn={provide:H,useExisting:(0,t.Gpc)(()=>rt),multi:!0};let Le=(()=>{class i{constructor(){this._required=!1}get required(){return this._required}set required(e){this._required=null!=e&&!1!==e&&"false"!=`${e}`,this._onChange&&this._onChange()}validate(e){return this.required?$(e):null}registerOnValidatorChange(e){this._onChange=e}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=t.lG2({type:i,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,s){2&e&&t.uIk("required",s.required?"":null)},inputs:{required:"required"},features:[t._Bn([on])]}),i})(),rt=(()=>{class i extends Le{validate(e){return this.required?ae(e):null}}return i.\u0275fac=function(){let n;return function(s){return(n||(n=t.n5z(i)))(s||i)}}(),i.\u0275dir=t.lG2({type:i,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(e,s){2&e&&t.uIk("required",s.required?"":null)},features:[t._Bn([sn]),t.qOj]}),i})();const cn={provide:H,useExisting:(0,t.Gpc)(()=>ot),multi:!0};let ot=(()=>{class i{constructor(){this._validator=h}ngOnChanges(e){"maxlength"in e&&(this._createValidator(),this._onChange&&this._onChange())}validate(e){return this.enabled()?this._validator(e):null}registerOnValidatorChange(e){this._onChange=e}_createValidator(){this._validator=this.enabled()?G(function(i){return"number"==typeof i?i:parseInt(i,10)}(this.maxlength)):h}enabled(){return null!=this.maxlength}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=t.lG2({type:i,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(e,s){2&e&&t.uIk("maxlength",s.enabled()?s.maxlength:null)},inputs:{maxlength:"maxlength"},features:[t._Bn([cn]),t.TTD]}),i})();const un={provide:H,useExisting:(0,t.Gpc)(()=>st),multi:!0};let st=(()=>{class i{constructor(){this._validator=h}ngOnChanges(e){"pattern"in e&&(this._createValidator(),this._onChange&&this._onChange())}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}_createValidator(){this._validator=l(this.pattern)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=t.lG2({type:i,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(e,s){2&e&&t.uIk("pattern",s.pattern?s.pattern:null)},inputs:{pattern:"pattern"},features:[t._Bn([un]),t.TTD]}),i})(),Dt=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[vt]]}),i})(),hn=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[Dt]}),i})(),It=(()=>{class i{static withConfig(e){return{ngModule:i,providers:[{provide:Je,useValue:e.warnOnNgModelWithFormControl}]}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[Dt]}),i})(),fn=(()=>{class i{group(e,s=null){const v=this._reduceControls(e);let ve,B=null,se=null;return null!=s&&(function(i){return void 0!==i.asyncValidators||void 0!==i.validators||void 0!==i.updateOn}(s)?(B=null!=s.validators?s.validators:null,se=null!=s.asyncValidators?s.asyncValidators:null,ve=null!=s.updateOn?s.updateOn:void 0):(B=null!=s.validator?s.validator:null,se=null!=s.asyncValidator?s.asyncValidator:null)),new Oe(v,{asyncValidators:se,updateOn:ve,validators:B})}control(e,s,v){return new ge(e,s,v)}array(e,s,v){const B=e.map(se=>this._createControl(se));return new qe(B,s,v)}_reduceControls(e){const s={};return Object.keys(e).forEach(v=>{s[v]=this._createControl(e[v])}),s}_createControl(e){return e instanceof ge||e instanceof Oe||e instanceof qe?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=(0,t.Yz7)({factory:function(){return new i},token:i,providedIn:It}),i})()},98295:(c,_,r)=>{"use strict";r.d(_,{G_:()=>ye,TO:()=>Z,KE:()=>Ee,Eo:()=>W,lN:()=>Ue,bx:()=>V,hX:()=>q,qo:()=>he,R9:()=>de});var t=r(18553),a=r(38583),o=r(37716),d=r(72458),u=r(39490),y=r(79765),D=r(66682),O=r(22759),p=r(39761),M=r(46782),E=r(15257),P=r(17238),T=r(46237),C=r(70946),S=r(80521);const w=["underline"],H=["connectionContainer"],N=["inputContainer"],Y=["label"];function z(x,J){1&x&&(o.ynx(0),o.TgZ(1,"div",14),o._UZ(2,"div",15),o._UZ(3,"div",16),o._UZ(4,"div",17),o.qZA(),o.TgZ(5,"div",18),o._UZ(6,"div",15),o._UZ(7,"div",16),o._UZ(8,"div",17),o.qZA(),o.BQk())}function te(x,J){1&x&&(o.TgZ(0,"div",19),o.Hsn(1,1),o.qZA())}function X(x,J){if(1&x&&(o.ynx(0),o.Hsn(1,2),o.TgZ(2,"span"),o._uU(3),o.qZA(),o.BQk()),2&x){const b=o.oxw(2);o.xp6(3),o.Oqu(b._control.placeholder)}}function $(x,J){1&x&&o.Hsn(0,3,["*ngSwitchCase","true"])}function ae(x,J){1&x&&(o.TgZ(0,"span",23),o._uU(1," *"),o.qZA())}function ie(x,J){if(1&x){const b=o.EpF();o.TgZ(0,"label",20,21),o.NdJ("cdkObserveContent",function(){return o.CHM(b),o.oxw().updateOutlineGap()}),o.YNc(2,X,4,1,"ng-container",12),o.YNc(3,$,1,0,"ng-content",12),o.YNc(4,ae,2,0,"span",22),o.qZA()}if(2&x){const b=o.oxw();o.ekj("mat-empty",b._control.empty&&!b._shouldAlwaysFloat())("mat-form-field-empty",b._control.empty&&!b._shouldAlwaysFloat())("mat-accent","accent"==b.color)("mat-warn","warn"==b.color),o.Q6J("cdkObserveContentDisabled","outline"!=b.appearance)("id",b._labelId)("ngSwitch",b._hasLabel()),o.uIk("for",b._control.id)("aria-owns",b._control.id),o.xp6(2),o.Q6J("ngSwitchCase",!1),o.xp6(1),o.Q6J("ngSwitchCase",!0),o.xp6(1),o.Q6J("ngIf",!b.hideRequiredMarker&&b._control.required&&!b._control.disabled)}}function R(x,J){1&x&&(o.TgZ(0,"div",24),o.Hsn(1,4),o.qZA())}function G(x,J){if(1&x&&(o.TgZ(0,"div",25,26),o._UZ(2,"span",27),o.qZA()),2&x){const b=o.oxw();o.xp6(2),o.ekj("mat-accent","accent"==b.color)("mat-warn","warn"==b.color)}}function l(x,J){if(1&x&&(o.TgZ(0,"div"),o.Hsn(1,5),o.qZA()),2&x){const b=o.oxw();o.Q6J("@transitionMessages",b._subscriptAnimationState)}}function h(x,J){if(1&x&&(o.TgZ(0,"div",31),o._uU(1),o.qZA()),2&x){const b=o.oxw(2);o.Q6J("id",b._hintLabelId),o.xp6(1),o.Oqu(b.hintLabel)}}function g(x,J){if(1&x&&(o.TgZ(0,"div",28),o.YNc(1,h,2,2,"div",29),o.Hsn(2,6),o._UZ(3,"div",30),o.Hsn(4,7),o.qZA()),2&x){const b=o.oxw();o.Q6J("@transitionMessages",b._subscriptAnimationState),o.xp6(1),o.Q6J("ngIf",b.hintLabel)}}const A=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],F=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let I=0;const j=new o.OlP("MatError");let Z=(()=>{class x{constructor(b,L){this.id="mat-error-"+I++,b||L.nativeElement.setAttribute("aria-live","polite")}}return x.\u0275fac=function(b){return new(b||x)(o.$8M("aria-live"),o.Y36(o.SBq))},x.\u0275dir=o.lG2({type:x,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(b,L){2&b&&o.uIk("id",L.id)},inputs:{id:"id"},features:[o._Bn([{provide:j,useExisting:x}])]}),x})();const le={transitionMessages:(0,P.X$)("transitionMessages",[(0,P.SB)("enter",(0,P.oB)({opacity:1,transform:"translateY(0%)"})),(0,P.eR)("void => enter",[(0,P.oB)({opacity:0,transform:"translateY(-5px)"}),(0,P.jt)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let W=(()=>{class x{}return x.\u0275fac=function(b){return new(b||x)},x.\u0275dir=o.lG2({type:x}),x})(),m=0;const k=new o.OlP("MatHint");let V=(()=>{class x{constructor(){this.align="start",this.id="mat-hint-"+m++}}return x.\u0275fac=function(b){return new(b||x)},x.\u0275dir=o.lG2({type:x,selectors:[["mat-hint"]],hostAttrs:[1,"mat-hint"],hostVars:4,hostBindings:function(b,L){2&b&&(o.uIk("id",L.id)("align",null),o.ekj("mat-form-field-hint-end","end"===L.align))},inputs:{align:"align",id:"id"},features:[o._Bn([{provide:k,useExisting:x}])]}),x})(),q=(()=>{class x{}return x.\u0275fac=function(b){return new(b||x)},x.\u0275dir=o.lG2({type:x,selectors:[["mat-label"]]}),x})(),re=(()=>{class x{}return x.\u0275fac=function(b){return new(b||x)},x.\u0275dir=o.lG2({type:x,selectors:[["mat-placeholder"]]}),x})();const ue=new o.OlP("MatPrefix");let he=(()=>{class x{}return x.\u0275fac=function(b){return new(b||x)},x.\u0275dir=o.lG2({type:x,selectors:[["","matPrefix",""]],features:[o._Bn([{provide:ue,useExisting:x}])]}),x})();const oe=new o.OlP("MatSuffix");let de=(()=>{class x{}return x.\u0275fac=function(b){return new(b||x)},x.\u0275dir=o.lG2({type:x,selectors:[["","matSuffix",""]],features:[o._Bn([{provide:oe,useExisting:x}])]}),x})(),Ae=0;const Ie=(0,d.pj)(class{constructor(x){this._elementRef=x}},"primary"),Te=new o.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),ye=new o.OlP("MatFormField");let Ee=(()=>{class x extends Ie{constructor(b,L,ne,ee,fe,Me,ce,me){super(b),this._changeDetectorRef=L,this._dir=ee,this._defaults=fe,this._platform=Me,this._ngZone=ce,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new y.xQ,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+Ae++,this._labelId="mat-form-field-label-"+Ae++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==me,this.appearance=fe&&fe.appearance?fe.appearance:"legacy",this._hideRequiredMarker=!(!fe||null==fe.hideRequiredMarker)&&fe.hideRequiredMarker}get appearance(){return this._appearance}set appearance(b){const L=this._appearance;this._appearance=b||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&L!==b&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(b){this._hideRequiredMarker=(0,u.Ig)(b)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(b){this._hintLabel=b,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(b){b!==this._floatLabel&&(this._floatLabel=b||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(b){this._explicitFormFieldControl=b}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const b=this._control;b.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${b.controlType}`),b.stateChanges.pipe((0,p.O)(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),b.ngControl&&b.ngControl.valueChanges&&b.ngControl.valueChanges.pipe((0,M.R)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,M.R)(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,D.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe((0,p.O)(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe((0,p.O)(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe((0,M.R)(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(b){const L=this._control?this._control.ngControl:null;return L&&L[b]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,(0,O.R)(this._label.nativeElement,"transitionend").pipe((0,E.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let b=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&b.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const L=this._hintChildren?this._hintChildren.find(ee=>"start"===ee.align):null,ne=this._hintChildren?this._hintChildren.find(ee=>"end"===ee.align):null;L?b.push(L.id):this._hintLabel&&b.push(this._hintLabelId),ne&&b.push(ne.id)}else this._errorChildren&&b.push(...this._errorChildren.map(L=>L.id));this._control.setDescribedByIds(b)}}_validateControlChild(){}updateOutlineGap(){const b=this._label?this._label.nativeElement:null;if(!("outline"===this.appearance&&b&&b.children.length&&b.textContent.trim()&&this._platform.isBrowser))return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let L=0,ne=0;const ee=this._connectionContainerRef.nativeElement,fe=ee.querySelectorAll(".mat-form-field-outline-start"),Me=ee.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const ce=ee.getBoundingClientRect();if(0===ce.width&&0===ce.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const me=this._getStartEnd(ce),_e=b.children,Ce=this._getStartEnd(_e[0].getBoundingClientRect());let pe=0;for(let we=0;we<_e.length;we++)pe+=_e[we].offsetWidth;L=Math.abs(Ce-me)-5,ne=pe>0?.75*pe+10:0}for(let ce=0;ce<fe.length;ce++)fe[ce].style.width=`${L}px`;for(let ce=0;ce<Me.length;ce++)Me[ce].style.width=`${ne}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(b){return this._dir&&"rtl"===this._dir.value?b.right:b.left}_isAttachedToDOM(){const b=this._elementRef.nativeElement;if(b.getRootNode){const L=b.getRootNode();return L&&L!==b}return document.documentElement.contains(b)}}return x.\u0275fac=function(b){return new(b||x)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(C.Is,8),o.Y36(Te,8),o.Y36(S.t4),o.Y36(o.R0b),o.Y36(T.Qb,8))},x.\u0275cmp=o.Xpm({type:x,selectors:[["mat-form-field"]],contentQueries:function(b,L,ne){if(1&b&&(o.Suo(ne,W,5),o.Suo(ne,W,7),o.Suo(ne,q,5),o.Suo(ne,q,7),o.Suo(ne,re,5),o.Suo(ne,j,5),o.Suo(ne,k,5),o.Suo(ne,ue,5),o.Suo(ne,oe,5)),2&b){let ee;o.iGM(ee=o.CRH())&&(L._controlNonStatic=ee.first),o.iGM(ee=o.CRH())&&(L._controlStatic=ee.first),o.iGM(ee=o.CRH())&&(L._labelChildNonStatic=ee.first),o.iGM(ee=o.CRH())&&(L._labelChildStatic=ee.first),o.iGM(ee=o.CRH())&&(L._placeholderChild=ee.first),o.iGM(ee=o.CRH())&&(L._errorChildren=ee),o.iGM(ee=o.CRH())&&(L._hintChildren=ee),o.iGM(ee=o.CRH())&&(L._prefixChildren=ee),o.iGM(ee=o.CRH())&&(L._suffixChildren=ee)}},viewQuery:function(b,L){if(1&b&&(o.Gf(w,5),o.Gf(H,7),o.Gf(N,5),o.Gf(Y,5)),2&b){let ne;o.iGM(ne=o.CRH())&&(L.underlineRef=ne.first),o.iGM(ne=o.CRH())&&(L._connectionContainerRef=ne.first),o.iGM(ne=o.CRH())&&(L._inputContainerRef=ne.first),o.iGM(ne=o.CRH())&&(L._label=ne.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(b,L){2&b&&o.ekj("mat-form-field-appearance-standard","standard"==L.appearance)("mat-form-field-appearance-fill","fill"==L.appearance)("mat-form-field-appearance-outline","outline"==L.appearance)("mat-form-field-appearance-legacy","legacy"==L.appearance)("mat-form-field-invalid",L._control.errorState)("mat-form-field-can-float",L._canLabelFloat())("mat-form-field-should-float",L._shouldLabelFloat())("mat-form-field-has-label",L._hasFloatingLabel())("mat-form-field-hide-placeholder",L._hideControlPlaceholder())("mat-form-field-disabled",L._control.disabled)("mat-form-field-autofilled",L._control.autofilled)("mat-focused",L._control.focused)("ng-untouched",L._shouldForward("untouched"))("ng-touched",L._shouldForward("touched"))("ng-pristine",L._shouldForward("pristine"))("ng-dirty",L._shouldForward("dirty"))("ng-valid",L._shouldForward("valid"))("ng-invalid",L._shouldForward("invalid"))("ng-pending",L._shouldForward("pending"))("_mat-animation-noopable",!L._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[o._Bn([{provide:ye,useExisting:x}]),o.qOj],ngContentSelectors:F,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(b,L){1&b&&(o.F$t(A),o.TgZ(0,"div",0),o.TgZ(1,"div",1,2),o.NdJ("click",function(ee){return L._control.onContainerClick&&L._control.onContainerClick(ee)}),o.YNc(3,z,9,0,"ng-container",3),o.YNc(4,te,2,0,"div",4),o.TgZ(5,"div",5,6),o.Hsn(7),o.TgZ(8,"span",7),o.YNc(9,ie,5,16,"label",8),o.qZA(),o.qZA(),o.YNc(10,R,2,0,"div",9),o.qZA(),o.YNc(11,G,3,4,"div",10),o.TgZ(12,"div",11),o.YNc(13,l,2,1,"div",12),o.YNc(14,g,5,2,"div",13),o.qZA(),o.qZA()),2&b&&(o.xp6(3),o.Q6J("ngIf","outline"==L.appearance),o.xp6(1),o.Q6J("ngIf",L._prefixChildren.length),o.xp6(5),o.Q6J("ngIf",L._hasFloatingLabel()),o.xp6(1),o.Q6J("ngIf",L._suffixChildren.length),o.xp6(1),o.Q6J("ngIf","outline"!=L.appearance),o.xp6(1),o.Q6J("ngSwitch",L._getDisplayedMessages()),o.xp6(1),o.Q6J("ngSwitchCase","error"),o.xp6(1),o.Q6J("ngSwitchCase","hint"))},directives:[a.O5,a.RF,a.n9,t.wD],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[le.transitionMessages]},changeDetection:0}),x})(),Ue=(()=>{class x{}return x.\u0275fac=function(b){return new(b||x)},x.\u0275mod=o.oAB({type:x}),x.\u0275inj=o.cJS({imports:[[a.ez,d.BQ,t.Q8],d.BQ]}),x})()},76627:(c,_,r)=>{"use strict";r.d(_,{Hw:()=>le,Ps:()=>W});var t=r(37716),a=r(72458),o=r(39490),d=r(38583),u=r(25917),y=r(40205),D=r(35758),O=r(75319),p=r(93342),M=r(88002),E=r(5304),P=r(68939),T=r(18819),C=r(15257),S=r(91841),w=r(39075);const H=["*"];function N(U){return Error(`Unable to find icon with the name "${U}"`)}function z(U){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${U}".`)}function te(U){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${U}".`)}class X{constructor(Q,f,m){this.url=Q,this.svgText=f,this.options=m}}let $=(()=>{class U{constructor(f,m,k,V){this._httpClient=f,this._sanitizer=m,this._errorHandler=V,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=k}addSvgIcon(f,m,k){return this.addSvgIconInNamespace("",f,m,k)}addSvgIconLiteral(f,m,k){return this.addSvgIconLiteralInNamespace("",f,m,k)}addSvgIconInNamespace(f,m,k,V){return this._addSvgIconConfig(f,m,new X(k,null,V))}addSvgIconResolver(f){return this._resolvers.push(f),this}addSvgIconLiteralInNamespace(f,m,k,V){const q=this._sanitizer.sanitize(t.q3G.HTML,k);if(!q)throw te(k);return this._addSvgIconConfig(f,m,new X("",q,V))}addSvgIconSet(f,m){return this.addSvgIconSetInNamespace("",f,m)}addSvgIconSetLiteral(f,m){return this.addSvgIconSetLiteralInNamespace("",f,m)}addSvgIconSetInNamespace(f,m,k){return this._addSvgIconSetConfig(f,new X(m,null,k))}addSvgIconSetLiteralInNamespace(f,m,k){const V=this._sanitizer.sanitize(t.q3G.HTML,m);if(!V)throw te(m);return this._addSvgIconSetConfig(f,new X("",V,k))}registerFontClassAlias(f,m=f){return this._fontCssClassesByAlias.set(f,m),this}classNameForFontAlias(f){return this._fontCssClassesByAlias.get(f)||f}setDefaultFontSetClass(f){return this._defaultFontSetClass=f,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(f){const m=this._sanitizer.sanitize(t.q3G.RESOURCE_URL,f);if(!m)throw z(f);const k=this._cachedIconsByUrl.get(m);return k?(0,u.of)(R(k)):this._loadSvgIconFromConfig(new X(f,null)).pipe((0,p.b)(V=>this._cachedIconsByUrl.set(m,V)),(0,M.U)(V=>R(V)))}getNamedSvgIcon(f,m=""){const k=G(m,f);let V=this._svgIconConfigs.get(k);if(V)return this._getSvgFromConfig(V);if(V=this._getIconConfigFromResolvers(m,f),V)return this._svgIconConfigs.set(k,V),this._getSvgFromConfig(V);const q=this._iconSetConfigs.get(m);return q?this._getSvgFromIconSetConfigs(f,q):(0,y._)(N(k))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(f){return f.svgText?(0,u.of)(R(this._svgElementFromConfig(f))):this._loadSvgIconFromConfig(f).pipe((0,M.U)(m=>R(m)))}_getSvgFromIconSetConfigs(f,m){const k=this._extractIconWithNameFromAnySet(f,m);if(k)return(0,u.of)(k);const V=m.filter(q=>!q.svgText).map(q=>this._loadSvgIconSetFromConfig(q).pipe((0,E.K)(re=>{const he=`Loading icon set URL: ${this._sanitizer.sanitize(t.q3G.RESOURCE_URL,q.url)} failed: ${re.message}`;return this._errorHandler.handleError(new Error(he)),(0,u.of)(null)})));return(0,D.D)(V).pipe((0,M.U)(()=>{const q=this._extractIconWithNameFromAnySet(f,m);if(!q)throw N(f);return q}))}_extractIconWithNameFromAnySet(f,m){for(let k=m.length-1;k>=0;k--){const V=m[k];if(V.svgText&&V.svgText.indexOf(f)>-1){const q=this._svgElementFromConfig(V),re=this._extractSvgIconFromSet(q,f,V.options);if(re)return re}}return null}_loadSvgIconFromConfig(f){return this._fetchIcon(f).pipe((0,p.b)(m=>f.svgText=m),(0,M.U)(()=>this._svgElementFromConfig(f)))}_loadSvgIconSetFromConfig(f){return f.svgText?(0,u.of)(null):this._fetchIcon(f).pipe((0,p.b)(m=>f.svgText=m))}_extractSvgIconFromSet(f,m,k){const V=f.querySelector(`[id="${m}"]`);if(!V)return null;const q=V.cloneNode(!0);if(q.removeAttribute("id"),"svg"===q.nodeName.toLowerCase())return this._setSvgAttributes(q,k);if("symbol"===q.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(q),k);const re=this._svgElementFromString("<svg></svg>");return re.appendChild(q),this._setSvgAttributes(re,k)}_svgElementFromString(f){const m=this._document.createElement("DIV");m.innerHTML=f;const k=m.querySelector("svg");if(!k)throw Error("<svg> tag not found");return k}_toSvgElement(f){const m=this._svgElementFromString("<svg></svg>"),k=f.attributes;for(let V=0;V<k.length;V++){const{name:q,value:re}=k[V];"id"!==q&&m.setAttribute(q,re)}for(let V=0;V<f.childNodes.length;V++)f.childNodes[V].nodeType===this._document.ELEMENT_NODE&&m.appendChild(f.childNodes[V].cloneNode(!0));return m}_setSvgAttributes(f,m){return f.setAttribute("fit",""),f.setAttribute("height","100%"),f.setAttribute("width","100%"),f.setAttribute("preserveAspectRatio","xMidYMid meet"),f.setAttribute("focusable","false"),m&&m.viewBox&&f.setAttribute("viewBox",m.viewBox),f}_fetchIcon(f){var m;const{url:k,options:V}=f,q=null!==(m=null==V?void 0:V.withCredentials)&&void 0!==m&&m;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==k)throw Error(`Cannot fetch icon from URL "${k}".`);const re=this._sanitizer.sanitize(t.q3G.RESOURCE_URL,k);if(!re)throw z(k);const ue=this._inProgressUrlFetches.get(re);if(ue)return ue;const he=this._httpClient.get(re,{responseType:"text",withCredentials:q}).pipe((0,P.x)(()=>this._inProgressUrlFetches.delete(re)),(0,T.B)());return this._inProgressUrlFetches.set(re,he),he}_addSvgIconConfig(f,m,k){return this._svgIconConfigs.set(G(f,m),k),this}_addSvgIconSetConfig(f,m){const k=this._iconSetConfigs.get(f);return k?k.push(m):this._iconSetConfigs.set(f,[m]),this}_svgElementFromConfig(f){if(!f.svgElement){const m=this._svgElementFromString(f.svgText);this._setSvgAttributes(m,f.options),f.svgElement=m}return f.svgElement}_getIconConfigFromResolvers(f,m){for(let k=0;k<this._resolvers.length;k++){const V=this._resolvers[k](m,f);if(V)return l(V)?new X(V.url,null,V.options):new X(V,null)}}}return U.\u0275fac=function(f){return new(f||U)(t.LFG(S.eN,8),t.LFG(w.H7),t.LFG(d.K0,8),t.LFG(t.qLn))},U.\u0275prov=t.Yz7({factory:function(){return new U(t.LFG(S.eN,8),t.LFG(w.H7),t.LFG(d.K0,8),t.LFG(t.qLn))},token:U,providedIn:"root"}),U})();function R(U){return U.cloneNode(!0)}function G(U,Q){return U+":"+Q}function l(U){return!(!U.url||!U.options)}const h=(0,a.pj)(class{constructor(U){this._elementRef=U}}),g=new t.OlP("mat-icon-location",{providedIn:"root",factory:function(){const U=(0,t.f3M)(d.K0),Q=U?U.location:null;return{getPathname:()=>Q?Q.pathname+Q.search:""}}}),F=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],j=F.map(U=>`[${U}]`).join(", "),Z=/^url\(['"]?#(.*?)['"]?\)$/;let le=(()=>{class U extends h{constructor(f,m,k,V,q){super(f),this._iconRegistry=m,this._location=V,this._errorHandler=q,this._inline=!1,this._currentIconFetch=O.w.EMPTY,k||f.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(f){this._inline=(0,o.Ig)(f)}get svgIcon(){return this._svgIcon}set svgIcon(f){f!==this._svgIcon&&(f?this._updateSvgIcon(f):this._svgIcon&&this._clearSvgElement(),this._svgIcon=f)}get fontSet(){return this._fontSet}set fontSet(f){const m=this._cleanupFontValue(f);m!==this._fontSet&&(this._fontSet=m,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(f){const m=this._cleanupFontValue(f);m!==this._fontIcon&&(this._fontIcon=m,this._updateFontIconClasses())}_splitIconName(f){if(!f)return["",""];const m=f.split(":");switch(m.length){case 1:return["",m[0]];case 2:return m;default:throw Error(`Invalid icon name: "${f}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const f=this._elementsWithExternalReferences;if(f&&f.size){const m=this._location.getPathname();m!==this._previousPath&&(this._previousPath=m,this._prependPathToReferences(m))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(f){this._clearSvgElement();const m=f.querySelectorAll("style");for(let V=0;V<m.length;V++)m[V].textContent+=" ";const k=this._location.getPathname();this._previousPath=k,this._cacheChildrenWithExternalReferences(f),this._prependPathToReferences(k),this._elementRef.nativeElement.appendChild(f)}_clearSvgElement(){const f=this._elementRef.nativeElement;let m=f.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();m--;){const k=f.childNodes[m];(1!==k.nodeType||"svg"===k.nodeName.toLowerCase())&&f.removeChild(k)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const f=this._elementRef.nativeElement,m=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();m!=this._previousFontSetClass&&(this._previousFontSetClass&&f.classList.remove(this._previousFontSetClass),m&&f.classList.add(m),this._previousFontSetClass=m),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&f.classList.remove(this._previousFontIconClass),this.fontIcon&&f.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(f){return"string"==typeof f?f.trim().split(" ")[0]:f}_prependPathToReferences(f){const m=this._elementsWithExternalReferences;m&&m.forEach((k,V)=>{k.forEach(q=>{V.setAttribute(q.name,`url('${f}#${q.value}')`)})})}_cacheChildrenWithExternalReferences(f){const m=f.querySelectorAll(j),k=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let V=0;V<m.length;V++)F.forEach(q=>{const re=m[V],ue=re.getAttribute(q),he=ue?ue.match(Z):null;if(he){let oe=k.get(re);oe||(oe=[],k.set(re,oe)),oe.push({name:q,value:he[1]})}})}_updateSvgIcon(f){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),f){const[m,k]=this._splitIconName(f);m&&(this._svgNamespace=m),k&&(this._svgName=k),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(k,m).pipe((0,C.q)(1)).subscribe(V=>this._setSvgElement(V),V=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${m}:${k}! ${V.message}`))})}}}return U.\u0275fac=function(f){return new(f||U)(t.Y36(t.SBq),t.Y36($),t.$8M("aria-hidden"),t.Y36(g),t.Y36(t.qLn))},U.\u0275cmp=t.Xpm({type:U,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(f,m){2&f&&(t.uIk("data-mat-icon-type",m._usingFontIcon()?"font":"svg")("data-mat-icon-name",m._svgName||m.fontIcon)("data-mat-icon-namespace",m._svgNamespace||m.fontSet),t.ekj("mat-icon-inline",m.inline)("mat-icon-no-color","primary"!==m.color&&"accent"!==m.color&&"warn"!==m.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[t.qOj],ngContentSelectors:H,decls:1,vars:0,template:function(f,m){1&f&&(t.F$t(),t.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),U})(),W=(()=>{class U{}return U.\u0275fac=function(f){return new(f||U)},U.\u0275mod=t.oAB({type:U}),U.\u0275inj=t.cJS({imports:[[a.BQ],a.BQ]}),U})()},49983:(c,_,r)=>{"use strict";r.d(_,{Jk:()=>z,Nt:()=>ae,c:()=>ie});var t=r(80521),a=r(37716),o=r(39490),d=r(59193),u=r(79765);r(22759),r(80013),r(46782),r(38583);const M=(0,t.i$)({passive:!0});let E=(()=>{class R{constructor(l,h){this._platform=l,this._ngZone=h,this._monitoredElements=new Map}monitor(l){if(!this._platform.isBrowser)return d.E;const h=(0,o.fI)(l),g=this._monitoredElements.get(h);if(g)return g.subject;const A=new u.xQ,F="cdk-text-field-autofilled",I=j=>{"cdk-text-field-autofill-start"!==j.animationName||h.classList.contains(F)?"cdk-text-field-autofill-end"===j.animationName&&h.classList.contains(F)&&(h.classList.remove(F),this._ngZone.run(()=>A.next({target:j.target,isAutofilled:!1}))):(h.classList.add(F),this._ngZone.run(()=>A.next({target:j.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{h.addEventListener("animationstart",I,M),h.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(h,{subject:A,unlisten:()=>{h.removeEventListener("animationstart",I,M)}}),A}stopMonitoring(l){const h=(0,o.fI)(l),g=this._monitoredElements.get(h);g&&(g.unlisten(),g.subject.complete(),h.classList.remove("cdk-text-field-autofill-monitored"),h.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(h))}ngOnDestroy(){this._monitoredElements.forEach((l,h)=>this.stopMonitoring(h))}}return R.\u0275fac=function(l){return new(l||R)(a.LFG(t.t4),a.LFG(a.R0b))},R.\u0275prov=a.Yz7({factory:function(){return new R(a.LFG(t.t4),a.LFG(a.R0b))},token:R,providedIn:"root"}),R})(),C=(()=>{class R{}return R.\u0275fac=function(l){return new(l||R)},R.\u0275mod=a.oAB({type:R}),R.\u0275inj=a.cJS({imports:[[t.ud]]}),R})();var S=r(72458),w=r(98295),H=r(3679);const z=new a.OlP("MAT_INPUT_VALUE_ACCESSOR"),te=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let X=0;const $=(0,S.FD)(class{constructor(R,G,l,h){this._defaultErrorStateMatcher=R,this._parentForm=G,this._parentFormGroup=l,this.ngControl=h}});let ae=(()=>{class R extends ${constructor(l,h,g,A,F,I,j,Z,le,W){super(I,A,F,g),this._elementRef=l,this._platform=h,this._autofillMonitor=Z,this._formField=W,this._uid="mat-input-"+X++,this.focused=!1,this.stateChanges=new u.xQ,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(f=>(0,t.qK)().has(f));const U=this._elementRef.nativeElement,Q=U.nodeName.toLowerCase();this._inputValueAccessor=j||U,this._previousNativeValue=this.value,this.id=this.id,h.IOS&&le.runOutsideAngular(()=>{l.nativeElement.addEventListener("keyup",f=>{const m=f.target;!m.value&&0===m.selectionStart&&0===m.selectionEnd&&(m.setSelectionRange(1,1),m.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===Q,this._isTextarea="textarea"===Q,this._isInFormField=!!W,this._isNativeSelect&&(this.controlType=U.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(l){this._disabled=(0,o.Ig)(l),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(l){this._id=l||this._uid}get required(){return this._required}set required(l){this._required=(0,o.Ig)(l)}get type(){return this._type}set type(l){this._type=l||"text",this._validateType(),!this._isTextarea&&(0,t.qK)().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(l){l!==this.value&&(this._inputValueAccessor.value=l,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(l){this._readonly=(0,o.Ig)(l)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(l=>{this.autofilled=l.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(l){this._elementRef.nativeElement.focus(l)}_focusChanged(l){l!==this.focused&&(this.focused=l,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var l,h;const g=(null===(h=null===(l=this._formField)||void 0===l?void 0:l._hideControlPlaceholder)||void 0===h?void 0:h.call(l))?null:this.placeholder;if(g!==this._previousPlaceholder){const A=this._elementRef.nativeElement;this._previousPlaceholder=g,g?A.setAttribute("placeholder",g):A.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const l=this._elementRef.nativeElement.value;this._previousNativeValue!==l&&(this._previousNativeValue=l,this.stateChanges.next())}_validateType(){te.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let l=this._elementRef.nativeElement.validity;return l&&l.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const l=this._elementRef.nativeElement,h=l.options[0];return this.focused||l.multiple||!this.empty||!!(l.selectedIndex>-1&&h&&h.label)}return this.focused||!this.empty}setDescribedByIds(l){l.length?this._elementRef.nativeElement.setAttribute("aria-describedby",l.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const l=this._elementRef.nativeElement;return this._isNativeSelect&&(l.multiple||l.size>1)}}return R.\u0275fac=function(l){return new(l||R)(a.Y36(a.SBq),a.Y36(t.t4),a.Y36(H.a5,10),a.Y36(H.F,8),a.Y36(H.sg,8),a.Y36(S.rD),a.Y36(z,10),a.Y36(E),a.Y36(a.R0b),a.Y36(w.G_,8))},R.\u0275dir=a.lG2({type:R,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:11,hostBindings:function(l,h){1&l&&a.NdJ("focus",function(){return h._focusChanged(!0)})("blur",function(){return h._focusChanged(!1)})("input",function(){return h._onInput()}),2&l&&(a.Ikx("disabled",h.disabled)("required",h.required),a.uIk("id",h.id)("data-placeholder",h.placeholder)("readonly",h.readonly&&!h._isNativeSelect||null)("aria-invalid",h.empty&&h.required?null:h.errorState)("aria-required",h.required),a.ekj("mat-input-server",h._isServer)("mat-native-select-inline",h._isInlineSelect()))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"]},exportAs:["matInput"],features:[a._Bn([{provide:w.Eo,useExisting:R}]),a.qOj,a.TTD]}),R})(),ie=(()=>{class R{}return R.\u0275fac=function(l){return new(l||R)},R.\u0275mod=a.oAB({type:R}),R.\u0275inj=a.cJS({providers:[S.rD],imports:[[C,w.lN,S.BQ],C,w.lN]}),R})()},44776:function(c,_,r){var t;!function(a,o){var d={};!function(a){"use strict";a.__esModule=!0,a.digestLength=32,a.blockSize=64;var o=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function d(T,C,S,w,H){for(var N,Y,z,te,X,$,ae,ie,R,G,l,h,g;H>=64;){for(N=C[0],Y=C[1],z=C[2],te=C[3],X=C[4],$=C[5],ae=C[6],ie=C[7],G=0;G<16;G++)T[G]=(255&S[l=w+4*G])<<24|(255&S[l+1])<<16|(255&S[l+2])<<8|255&S[l+3];for(G=16;G<64;G++)T[G]=((h=((R=T[G-2])>>>17|R<<15)^(R>>>19|R<<13)^R>>>10)+T[G-7]|0)+((g=((R=T[G-15])>>>7|R<<25)^(R>>>18|R<<14)^R>>>3)+T[G-16]|0);for(G=0;G<64;G++)h=(((X>>>6|X<<26)^(X>>>11|X<<21)^(X>>>25|X<<7))+(X&$^~X&ae)|0)+(ie+(o[G]+T[G]|0)|0)|0,g=((N>>>2|N<<30)^(N>>>13|N<<19)^(N>>>22|N<<10))+(N&Y^N&z^Y&z)|0,ie=ae,ae=$,$=X,X=te+h|0,te=z,z=Y,Y=N,N=h+g|0;C[0]+=N,C[1]+=Y,C[2]+=z,C[3]+=te,C[4]+=X,C[5]+=$,C[6]+=ae,C[7]+=ie,w+=64,H-=64}return w}var u=function(){function T(){this.digestLength=a.digestLength,this.blockSize=a.blockSize,this.state=new Int32Array(8),this.temp=new Int32Array(64),this.buffer=new Uint8Array(128),this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this.reset()}return T.prototype.reset=function(){return this.state[0]=1779033703,this.state[1]=3144134277,this.state[2]=1013904242,this.state[3]=2773480762,this.state[4]=1359893119,this.state[5]=2600822924,this.state[6]=528734635,this.state[7]=1541459225,this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this},T.prototype.clean=function(){for(var C=0;C<this.buffer.length;C++)this.buffer[C]=0;for(C=0;C<this.temp.length;C++)this.temp[C]=0;this.reset()},T.prototype.update=function(C,S){if(void 0===S&&(S=C.length),this.finished)throw new Error("SHA256: can't update because hash was finished.");var w=0;if(this.bytesHashed+=S,this.bufferLength>0){for(;this.bufferLength<64&&S>0;)this.buffer[this.bufferLength++]=C[w++],S--;64===this.bufferLength&&(d(this.temp,this.state,this.buffer,0,64),this.bufferLength=0)}for(S>=64&&(w=d(this.temp,this.state,C,w,S),S%=64);S>0;)this.buffer[this.bufferLength++]=C[w++],S--;return this},T.prototype.finish=function(C){if(!this.finished){var S=this.bytesHashed,w=this.bufferLength,H=S/536870912|0,N=S<<3,Y=S%64<56?64:128;this.buffer[w]=128;for(var z=w+1;z<Y-8;z++)this.buffer[z]=0;this.buffer[Y-8]=H>>>24&255,this.buffer[Y-7]=H>>>16&255,this.buffer[Y-6]=H>>>8&255,this.buffer[Y-5]=H>>>0&255,this.buffer[Y-4]=N>>>24&255,this.buffer[Y-3]=N>>>16&255,this.buffer[Y-2]=N>>>8&255,this.buffer[Y-1]=N>>>0&255,d(this.temp,this.state,this.buffer,0,Y),this.finished=!0}for(z=0;z<8;z++)C[4*z+0]=this.state[z]>>>24&255,C[4*z+1]=this.state[z]>>>16&255,C[4*z+2]=this.state[z]>>>8&255,C[4*z+3]=this.state[z]>>>0&255;return this},T.prototype.digest=function(){var C=new Uint8Array(this.digestLength);return this.finish(C),C},T.prototype._saveState=function(C){for(var S=0;S<this.state.length;S++)C[S]=this.state[S]},T.prototype._restoreState=function(C,S){for(var w=0;w<this.state.length;w++)this.state[w]=C[w];this.bytesHashed=S,this.finished=!1,this.bufferLength=0},T}();a.Hash=u;var y=function(){function T(C){this.inner=new u,this.outer=new u,this.blockSize=this.inner.blockSize,this.digestLength=this.inner.digestLength;var S=new Uint8Array(this.blockSize);if(C.length>this.blockSize)(new u).update(C).finish(S).clean();else for(var w=0;w<C.length;w++)S[w]=C[w];for(w=0;w<S.length;w++)S[w]^=54;for(this.inner.update(S),w=0;w<S.length;w++)S[w]^=106;for(this.outer.update(S),this.istate=new Uint32Array(8),this.ostate=new Uint32Array(8),this.inner._saveState(this.istate),this.outer._saveState(this.ostate),w=0;w<S.length;w++)S[w]=0}return T.prototype.reset=function(){return this.inner._restoreState(this.istate,this.inner.blockSize),this.outer._restoreState(this.ostate,this.outer.blockSize),this},T.prototype.clean=function(){for(var C=0;C<this.istate.length;C++)this.ostate[C]=this.istate[C]=0;this.inner.clean(),this.outer.clean()},T.prototype.update=function(C){return this.inner.update(C),this},T.prototype.finish=function(C){return this.outer.finished?this.outer.finish(C):(this.inner.finish(C),this.outer.update(C,this.digestLength).finish(C)),this},T.prototype.digest=function(){var C=new Uint8Array(this.digestLength);return this.finish(C),C},T}();function D(T){var C=(new u).update(T),S=C.digest();return C.clean(),S}function O(T,C){var S=new y(T).update(C),w=S.digest();return S.clean(),w}function p(T,C,S,w){var H=w[0];if(0===H)throw new Error("hkdf: cannot expand more");C.reset(),H>1&&C.update(T),S&&C.update(S),C.update(w),C.finish(T),w[0]++}a.HMAC=y,a.hash=D,a.default=D,a.hmac=O;var M=new Uint8Array(a.digestLength);a.hkdf=function(T,C,S,w){void 0===C&&(C=M),void 0===w&&(w=32);for(var H=new Uint8Array([1]),N=O(C,T),Y=new y(N),z=new Uint8Array(Y.digestLength),te=z.length,X=new Uint8Array(w),$=0;$<w;$++)te===z.length&&(p(z,Y,S,H),te=0),X[$]=z[te++];return Y.clean(),z.fill(0),H.fill(0),X},a.pbkdf2=function(T,C,S,w){for(var H=new y(T),N=H.digestLength,Y=new Uint8Array(4),z=new Uint8Array(N),te=new Uint8Array(N),X=new Uint8Array(w),$=0;$*N<w;$++){var ae=$+1;Y[0]=ae>>>24&255,Y[1]=ae>>>16&255,Y[2]=ae>>>8&255,Y[3]=ae>>>0&255,H.reset(),H.update(C),H.update(Y),H.finish(te);for(var ie=0;ie<N;ie++)z[ie]=te[ie];for(ie=2;ie<=S;ie++){H.reset(),H.update(te).finish(te);for(var R=0;R<N;R++)z[R]^=te[R]}for(ie=0;ie<N&&$*N+ie<w;ie++)X[$*N+ie]=z[ie]}for($=0;$<N;$++)z[$]=te[$]=0;for($=0;$<4;$++)Y[$]=0;return H.clean(),X}}(d);var u=d.default;for(var y in d)u[y]=d[y];"object"==typeof c.exports?c.exports=u:void 0!==(t=function(){return u}.call(d,r,d,c))&&(c.exports=t)}()},35758:(c,_,r)=>{"use strict";r.d(_,{D:()=>y});var t=r(67574),a=r(59796),o=r(88002),d=r(81555),u=r(94402);function y(...O){if(1===O.length){const p=O[0];if((0,a.k)(p))return D(p,null);if((0,d.K)(p)&&Object.getPrototypeOf(p)===Object.prototype){const M=Object.keys(p);return D(M.map(E=>p[E]),M)}}if("function"==typeof O[O.length-1]){const p=O.pop();return D(O=1===O.length&&(0,a.k)(O[0])?O[0]:O,null).pipe((0,o.U)(M=>p(...M)))}return D(O,null)}function D(O,p){return new t.y(M=>{const E=O.length;if(0===E)return void M.complete();const P=new Array(E);let T=0,C=0;for(let S=0;S<E;S++){const w=(0,u.D)(O[S]);let H=!1;M.add(w.subscribe({next:N=>{H||(H=!0,C++),P[S]=N},error:N=>M.error(N),complete:()=>{T++,(T===E||!H)&&(C===E&&M.next(p?p.reduce((N,Y,z)=>(N[Y]=P[z],N),{}):P),M.complete())}}))}})}},98085:(c,_,r)=>{"use strict";r.d(_,{S3:()=>u});var t=r(59796),a=r(56693),o=r(55197),d=r(20509);function u(...O){if(1===O.length){if(!(0,t.k)(O[0]))return O[0];O=O[0]}return(0,a.n)(O,void 0).lift(new y)}class y{call(p,M){return M.subscribe(new D(p))}}class D extends o.L{constructor(p){super(p),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(p){this.observables.push(p)}_complete(){const p=this.observables,M=p.length;if(0===M)this.destination.complete();else{for(let E=0;E<M&&!this.hasFirst;E++){const T=(0,d.D)(this,p[E],void 0,E);this.subscriptions&&this.subscriptions.push(T),this.add(T)}this.observables=null}}notifyNext(p,M,E){if(!this.hasFirst){this.hasFirst=!0;for(let P=0;P<this.subscriptions.length;P++)if(P!==E){let T=this.subscriptions[P];T.unsubscribe(),this.remove(T)}this.subscriptions=null}this.destination.next(M)}}},65792:(c,_,r)=>{"use strict";r.d(_,{g:()=>u});var t=r(33637),a=r(39989),o=r(77393),d=r(23098);function u(p,M=t.P){const P=(0,a.J)(p)?+p-M.now():Math.abs(p);return T=>T.lift(new y(P,M))}class y{constructor(M,E){this.delay=M,this.scheduler=E}call(M,E){return E.subscribe(new D(M,this.delay,this.scheduler))}}class D extends o.L{constructor(M,E,P){super(M),this.delay=E,this.scheduler=P,this.queue=[],this.active=!1,this.errored=!1}static dispatch(M){const E=M.source,P=E.queue,T=M.scheduler,C=M.destination;for(;P.length>0&&P[0].time-T.now()<=0;)P.shift().notification.observe(C);if(P.length>0){const S=Math.max(0,P[0].time-T.now());this.schedule(M,S)}else this.unsubscribe(),E.active=!1}_schedule(M){this.active=!0,this.destination.add(M.schedule(D.dispatch,this.delay,{source:this,destination:this.destination,scheduler:M}))}scheduleNotification(M){if(!0===this.errored)return;const E=this.scheduler,P=new O(E.now()+this.delay,M);this.queue.push(P),!1===this.active&&this._schedule(E)}_next(M){this.scheduleNotification(d.P.createNext(M))}_error(M){this.errored=!0,this.queue=[],this.destination.error(M),this.unsubscribe()}_complete(){this.scheduleNotification(d.P.createComplete()),this.unsubscribe()}}class O{constructor(M,E){this.time=M,this.notification=E}}},64010:(c,_,r)=>{"use strict";r.d(_,{V:()=>M});var t=r(33637);const o=(()=>{function E(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return E.prototype=Object.create(Error.prototype),E})();var d=r(39989),u=r(85345);class D{constructor(P,T,C,S){this.waitFor=P,this.absoluteTimeout=T,this.withObservable=C,this.scheduler=S}call(P,T){return T.subscribe(new O(P,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))}}class O extends u.Ds{constructor(P,T,C,S,w){super(P),this.absoluteTimeout=T,this.waitFor=C,this.withObservable=S,this.scheduler=w,this.scheduleTimeout()}static dispatchTimeout(P){const{withObservable:T}=P;P._unsubscribeAndRecycle(),P.add((0,u.ft)(T,new u.IY(P)))}scheduleTimeout(){const{action:P}=this;P?this.action=P.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(O.dispatchTimeout,this.waitFor,this))}_next(P){this.absoluteTimeout||this.scheduleTimeout(),super._next(P)}_unsubscribe(){this.action=void 0,this.scheduler=null,this.withObservable=null}}var p=r(40205);function M(E,P=t.P){return function(E,P,T=t.P){return C=>{let S=(0,d.J)(E),w=S?+E-T.now():Math.abs(E);return C.lift(new D(w,S,P,T))}}(E,(0,p._)(new o),P)}},39989:(c,_,r)=>{"use strict";function t(a){return a instanceof Date&&!isNaN(+a)}r.d(_,{J:()=>t})},64762:(c,_,r)=>{"use strict";function O(l,h,g,A){return new(g||(g=Promise))(function(I,j){function Z(U){try{W(A.next(U))}catch(Q){j(Q)}}function le(U){try{W(A.throw(U))}catch(Q){j(Q)}}function W(U){U.done?I(U.value):function(I){return I instanceof g?I:new g(function(j){j(I)})}(U.value).then(Z,le)}W((A=A.apply(l,h||[])).next())})}r.d(_,{mG:()=>O})},86114:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{zr:()=>OAuthModule});var _angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(37716),_angular_common__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(38583),_angular_common_http__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(91841),tslib__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(64762),rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(79765),rxjs__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(25917),rxjs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(94402),rxjs__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(98085),rxjs__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(40205),rxjs__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(9112),rxjs__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(66682),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(45435),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(93342),rxjs_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(54395),rxjs_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(65792),rxjs_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(43190),rxjs_operators__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(88002),rxjs_operators__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(28049),rxjs_operators__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(5304),rxjs_operators__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(64010),rxjs_operators__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(15257),rxjs_operators__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(19773),fast_sha256__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(44776);class DateTimeProvider{}let SystemDateTimeProvider=(()=>{class c extends DateTimeProvider{now(){return Date.now()}new(){return new Date}}return c.\u0275fac=function(){let _;return function(t){return(_||(_=_angular_core__WEBPACK_IMPORTED_MODULE_1__.n5z(c)))(t||c)}}(),c.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_1__.Yz7({token:c,factory:c.\u0275fac}),c})();class LoginOptions{constructor(){this.disableNonceCheck=!1,this.preventClearHashAfterLogin=!1}}class OAuthLogger{}class OAuthStorage{}let MemoryStorage=(()=>{class c{constructor(){this.data=new Map}getItem(r){return this.data.get(r)}removeItem(r){this.data.delete(r)}setItem(r,t){this.data.set(r,t)}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_1__.Yz7({token:c,factory:c.\u0275fac}),c})();class ReceivedTokens{}class OAuthEvent{constructor(_){this.type=_}}class OAuthSuccessEvent extends OAuthEvent{constructor(_,r=null){super(_),this.info=r}}class OAuthInfoEvent extends OAuthEvent{constructor(_,r=null){super(_),this.info=r}}class OAuthErrorEvent extends OAuthEvent{constructor(_,r,t=null){super(_),this.reason=r,this.params=t}}function b64DecodeUnicode(c){const _=c.replace(/\-/g,"+").replace(/\_/g,"/");return decodeURIComponent(atob(_).split("").map(function(r){return"%"+("00"+r.charCodeAt(0).toString(16)).slice(-2)}).join(""))}function base64UrlEncode(c){return btoa(c).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}class AuthConfig{constructor(_){this.clientId="",this.redirectUri="",this.postLogoutRedirectUri="",this.redirectUriAsPostLogoutRedirectUriFallback=!0,this.loginUrl="",this.scope="openid profile",this.resource="",this.rngUrl="",this.oidc=!0,this.requestAccessToken=!0,this.options=null,this.issuer="",this.logoutUrl="",this.clearHashAfterLogin=!0,this.tokenEndpoint=null,this.revocationEndpoint=null,this.customTokenParameters=[],this.userinfoEndpoint=null,this.responseType="",this.showDebugInformation=!1,this.silentRefreshRedirectUri="",this.silentRefreshMessagePrefix="",this.silentRefreshShowIFrame=!1,this.siletRefreshTimeout=2e4,this.silentRefreshTimeout=2e4,this.dummyClientSecret=null,this.requireHttps="remoteOnly",this.strictDiscoveryDocumentValidation=!0,this.jwks=null,this.customQueryParams=null,this.silentRefreshIFrameName="angular-oauth-oidc-silent-refresh-iframe",this.timeoutFactor=.75,this.sessionChecksEnabled=!1,this.sessionCheckIntervall=3e3,this.sessionCheckIFrameUrl=null,this.sessionCheckIFrameName="angular-oauth-oidc-check-session-iframe",this.disableAtHashCheck=!1,this.skipSubjectCheck=!1,this.useIdTokenHintForSilentRefresh=!1,this.skipIssuerCheck=!1,this.nonceStateSeparator=";",this.useHttpBasicAuth=!1,this.waitForTokenInMsec=0,this.disablePKCE=!1,this.preserveRequestedRoute=!1,this.openUri=r=>{location.href=r},_&&Object.assign(this,_)}}class WebHttpUrlEncodingCodec{encodeKey(_){return encodeURIComponent(_)}encodeValue(_){return encodeURIComponent(_)}decodeKey(_){return decodeURIComponent(_)}decodeValue(_){return decodeURIComponent(_)}}class ValidationHandler{}class AbstractValidationHandler{validateAtHash(_){return(0,tslib__WEBPACK_IMPORTED_MODULE_2__.mG)(this,void 0,void 0,function*(){let r=this.inferHashAlgorithm(_.idTokenHeader),t=yield this.calcHash(_.accessToken,r),o=base64UrlEncode(t.substr(0,t.length/2)),d=_.idTokenClaims.at_hash.replace(/=/g,"");return o!==d&&(console.error("exptected at_hash: "+o),console.error("actual at_hash: "+d)),o===d})}inferHashAlgorithm(_){let r=_.alg;if(!r.match(/^.S[0-9]{3}$/))throw new Error("Algorithm not supported: "+r);return"sha-"+r.substr(2)}}let UrlHelperService=(()=>{class c{getHashFragmentParams(r){let t=r||window.location.hash;if(t=decodeURIComponent(t),0!==t.indexOf("#"))return{};const a=t.indexOf("?");return t=t.substr(a>-1?a+1:1),this.parseQueryString(t)}parseQueryString(r){const t={};let a,o,d,u,y,D,O;if(null===r)return t;a=r.split("&");for(let p=0;p<a.length;p++)o=a[p],d=o.indexOf("="),-1===d?(u=o,y=null):(u=o.substr(0,d),y=o.substr(d+1)),D=decodeURIComponent(u),O=decodeURIComponent(y),"/"===D.substr(0,1)&&(D=D.substr(1)),t[D]=O;return t}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_1__.Yz7({token:c,factory:c.\u0275fac}),c})();function factory(){var ERROR="input is invalid type",WINDOW="object"==typeof window,root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&"object"==typeof self,NODE_JS=!root.JS_SHA256_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;NODE_JS?root=global:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&"object"==typeof module&&module.exports,AMD="function"==typeof define&&define.amd,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer;const HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"];var blocks=[];(root.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(c){return"[object Array]"===Object.prototype.toString.call(c)}),ARRAY_BUFFER&&(root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(c){return"object"==typeof c&&c.buffer&&c.buffer.constructor===ArrayBuffer});var createOutputMethod=function(c,_){return function(r){return new Sha256(_,!0).update(r)[c]()}},createMethod=function(c){var _=createOutputMethod("hex",c);NODE_JS&&(_=nodeWrap(_,c)),_.create=function(){return new Sha256(c)},_.update=function(a){return _.create().update(a)};for(var r=0;r<OUTPUT_TYPES.length;++r){var t=OUTPUT_TYPES[r];_[t]=createOutputMethod(t,c)}return _},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(c){if("string"==typeof c)return crypto.createHash(algorithm).update(c,"utf8").digest("hex");if(null==c)throw new Error(ERROR);return c.constructor===ArrayBuffer&&(c=new Uint8Array(c)),Array.isArray(c)||ArrayBuffer.isView(c)||c.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(c)).digest("hex"):method(c)};return nodeMethod},createHmacOutputMethod=function(c,_){return function(r,t){return new HmacSha256(r,_,!0).update(t)[c]()}},createHmacMethod=function(c){var _=createHmacOutputMethod("hex",c);_.create=function(a){return new HmacSha256(a,c)},_.update=function(a,o){return _.create(a).update(o)};for(var r=0;r<OUTPUT_TYPES.length;++r){var t=OUTPUT_TYPES[r];_[t]=createHmacOutputMethod(t,c)}return _};function Sha256(c,_){_?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],c?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=c}function HmacSha256(c,_,r){var t,a=typeof c;if("string"===a){var y,o=[],d=c.length,u=0;for(t=0;t<d;++t)(y=c.charCodeAt(t))<128?o[u++]=y:y<2048?(o[u++]=192|y>>6,o[u++]=128|63&y):y<55296||y>=57344?(o[u++]=224|y>>12,o[u++]=128|y>>6&63,o[u++]=128|63&y):(y=65536+((1023&y)<<10|1023&c.charCodeAt(++t)),o[u++]=240|y>>18,o[u++]=128|y>>12&63,o[u++]=128|y>>6&63,o[u++]=128|63&y);c=o}else{if("object"!==a)throw new Error(ERROR);if(null===c)throw new Error(ERROR);if(ARRAY_BUFFER&&c.constructor===ArrayBuffer)c=new Uint8Array(c);else if(!(Array.isArray(c)||ARRAY_BUFFER&&ArrayBuffer.isView(c)))throw new Error(ERROR)}c.length>64&&(c=new Sha256(_,!0).update(c).array());var D=[],O=[];for(t=0;t<64;++t){var p=c[t]||0;D[t]=92^p,O[t]=54^p}Sha256.call(this,_,r),this.update(O),this.oKeyPad=D,this.inner=!0,this.sharedMemory=r}Sha256.prototype.update=function(c){if(!this.finalized){var _,r=typeof c;if("string"!==r){if("object"!==r)throw new Error(ERROR);if(null===c)throw new Error(ERROR);if(ARRAY_BUFFER&&c.constructor===ArrayBuffer)c=new Uint8Array(c);else if(!(Array.isArray(c)||ARRAY_BUFFER&&ArrayBuffer.isView(c)))throw new Error(ERROR);_=!0}for(var t,o,a=0,d=c.length,u=this.blocks;a<d;){if(this.hashed&&(this.hashed=!1,u[0]=this.block,u[16]=u[1]=u[2]=u[3]=u[4]=u[5]=u[6]=u[7]=u[8]=u[9]=u[10]=u[11]=u[12]=u[13]=u[14]=u[15]=0),_)for(o=this.start;a<d&&o<64;++a)u[o>>2]|=c[a]<<SHIFT[3&o++];else for(o=this.start;a<d&&o<64;++a)(t=c.charCodeAt(a))<128?u[o>>2]|=t<<SHIFT[3&o++]:t<2048?(u[o>>2]|=(192|t>>6)<<SHIFT[3&o++],u[o>>2]|=(128|63&t)<<SHIFT[3&o++]):t<55296||t>=57344?(u[o>>2]|=(224|t>>12)<<SHIFT[3&o++],u[o>>2]|=(128|t>>6&63)<<SHIFT[3&o++],u[o>>2]|=(128|63&t)<<SHIFT[3&o++]):(t=65536+((1023&t)<<10|1023&c.charCodeAt(++a)),u[o>>2]|=(240|t>>18)<<SHIFT[3&o++],u[o>>2]|=(128|t>>12&63)<<SHIFT[3&o++],u[o>>2]|=(128|t>>6&63)<<SHIFT[3&o++],u[o>>2]|=(128|63&t)<<SHIFT[3&o++]);this.lastByteIndex=o,this.bytes+=o-this.start,o>=64?(this.block=u[16],this.start=o-64,this.hash(),this.hashed=!0):this.start=o}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var c=this.blocks,_=this.lastByteIndex;c[16]=this.block,c[_>>2]|=EXTRA[3&_],this.block=c[16],_>=56&&(this.hashed||this.hash(),c[0]=this.block,c[16]=c[1]=c[2]=c[3]=c[4]=c[5]=c[6]=c[7]=c[8]=c[9]=c[10]=c[11]=c[12]=c[13]=c[14]=c[15]=0),c[14]=this.hBytes<<3|this.bytes>>>29,c[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var D,E,C,S,w,H,c=this.h0,_=this.h1,r=this.h2,t=this.h3,a=this.h4,o=this.h5,d=this.h6,u=this.h7,y=this.blocks;for(D=16;D<64;++D)y[D]=y[D-16]+(((E=y[D-15])>>>7|E<<25)^(E>>>18|E<<14)^E>>>3)+y[D-7]+(((E=y[D-2])>>>17|E<<15)^(E>>>19|E<<13)^E>>>10)<<0;for(H=_&r,D=0;D<64;D+=4)this.first?(this.is224?(C=300032,u=(E=y[0]-1413257819)-150054599<<0,t=E+24177077<<0):(C=704751109,u=(E=y[0]-210244248)-1521486534<<0,t=E+143694565<<0),this.first=!1):(u=t+(E=u+((a>>>6|a<<26)^(a>>>11|a<<21)^(a>>>25|a<<7))+(a&o^~a&d)+K[D]+y[D])<<0,t=E+(((c>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10))+((C=c&_)^c&r^H))<<0),d=r+(E=d+((u>>>6|u<<26)^(u>>>11|u<<21)^(u>>>25|u<<7))+(u&a^~u&o)+K[D+1]+y[D+1])<<0,r=E+(((t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10))+((S=t&c)^t&_^C))<<0,o=_+(E=o+((d>>>6|d<<26)^(d>>>11|d<<21)^(d>>>25|d<<7))+(d&u^~d&a)+K[D+2]+y[D+2])<<0,_=E+(((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+((w=r&t)^r&c^S))<<0,a=c+(E=a+((o>>>6|o<<26)^(o>>>11|o<<21)^(o>>>25|o<<7))+(o&d^~o&u)+K[D+3]+y[D+3])<<0,c=E+(((_>>>2|_<<30)^(_>>>13|_<<19)^(_>>>22|_<<10))+((H=_&r)^_&t^w))<<0;this.h0=this.h0+c<<0,this.h1=this.h1+_<<0,this.h2=this.h2+r<<0,this.h3=this.h3+t<<0,this.h4=this.h4+a<<0,this.h5=this.h5+o<<0,this.h6=this.h6+d<<0,this.h7=this.h7+u<<0},Sha256.prototype.hex=function(){this.finalize();var c=this.h0,_=this.h1,r=this.h2,t=this.h3,a=this.h4,o=this.h5,d=this.h6,u=this.h7,y=HEX_CHARS[c>>28&15]+HEX_CHARS[c>>24&15]+HEX_CHARS[c>>20&15]+HEX_CHARS[c>>16&15]+HEX_CHARS[c>>12&15]+HEX_CHARS[c>>8&15]+HEX_CHARS[c>>4&15]+HEX_CHARS[15&c]+HEX_CHARS[_>>28&15]+HEX_CHARS[_>>24&15]+HEX_CHARS[_>>20&15]+HEX_CHARS[_>>16&15]+HEX_CHARS[_>>12&15]+HEX_CHARS[_>>8&15]+HEX_CHARS[_>>4&15]+HEX_CHARS[15&_]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[15&r]+HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[15&t]+HEX_CHARS[a>>28&15]+HEX_CHARS[a>>24&15]+HEX_CHARS[a>>20&15]+HEX_CHARS[a>>16&15]+HEX_CHARS[a>>12&15]+HEX_CHARS[a>>8&15]+HEX_CHARS[a>>4&15]+HEX_CHARS[15&a]+HEX_CHARS[o>>28&15]+HEX_CHARS[o>>24&15]+HEX_CHARS[o>>20&15]+HEX_CHARS[o>>16&15]+HEX_CHARS[o>>12&15]+HEX_CHARS[o>>8&15]+HEX_CHARS[o>>4&15]+HEX_CHARS[15&o]+HEX_CHARS[d>>28&15]+HEX_CHARS[d>>24&15]+HEX_CHARS[d>>20&15]+HEX_CHARS[d>>16&15]+HEX_CHARS[d>>12&15]+HEX_CHARS[d>>8&15]+HEX_CHARS[d>>4&15]+HEX_CHARS[15&d];return this.is224||(y+=HEX_CHARS[u>>28&15]+HEX_CHARS[u>>24&15]+HEX_CHARS[u>>20&15]+HEX_CHARS[u>>16&15]+HEX_CHARS[u>>12&15]+HEX_CHARS[u>>8&15]+HEX_CHARS[u>>4&15]+HEX_CHARS[15&u]),y},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var c=this.h0,_=this.h1,r=this.h2,t=this.h3,a=this.h4,o=this.h5,d=this.h6,u=this.h7,y=[c>>24&255,c>>16&255,c>>8&255,255&c,_>>24&255,_>>16&255,_>>8&255,255&_,r>>24&255,r>>16&255,r>>8&255,255&r,t>>24&255,t>>16&255,t>>8&255,255&t,a>>24&255,a>>16&255,a>>8&255,255&a,o>>24&255,o>>16&255,o>>8&255,255&o,d>>24&255,d>>16&255,d>>8&255,255&d];return this.is224||y.push(u>>24&255,u>>16&255,u>>8&255,255&u),y},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var c=new ArrayBuffer(this.is224?28:32),_=new DataView(c);return _.setUint32(0,this.h0),_.setUint32(4,this.h1),_.setUint32(8,this.h2),_.setUint32(12,this.h3),_.setUint32(16,this.h4),_.setUint32(20,this.h5),_.setUint32(24,this.h6),this.is224||_.setUint32(28,this.h7),c},HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var c=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(c),Sha256.prototype.finalize.call(this)}};var exports=createMethod();return exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),exports}const sha256=factory();class HashHandler{}function decodeUTF8(c){if("string"!=typeof c)throw new TypeError("expected string");var _,r=c,t=new Uint8Array(r.length);for(_=0;_<r.length;_++)t[_]=r.charCodeAt(_);return t}function encodeUTF8(c){var _,r=[];for(_=0;_<c.length;_++)r.push(String.fromCharCode(c[_]));return r.join("")}let DefaultHashHandler=(()=>{class c{calcHash(r,t){return(0,tslib__WEBPACK_IMPORTED_MODULE_2__.mG)(this,void 0,void 0,function*(){return encodeUTF8(fast_sha256__WEBPACK_IMPORTED_MODULE_0__(decodeUTF8(r)))})}toHashString2(r){let t="";for(let a of r)t+=String.fromCharCode(a);return t}toHashString(r){const t=new Uint8Array(r);let a="";for(let o of t)a+=String.fromCharCode(o);return a}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_1__.Yz7({token:c,factory:c.\u0275fac}),c})(),OAuthService=(()=>{class c extends AuthConfig{constructor(r,t,a,o,d,u,y,D,O,p){var M;super(),this.ngZone=r,this.http=t,this.config=d,this.urlHelper=u,this.logger=y,this.crypto=D,this.dateTimeService=p,this.discoveryDocumentLoaded=!1,this.state="",this.eventsSubject=new rxjs__WEBPACK_IMPORTED_MODULE_3__.xQ,this.discoveryDocumentLoadedSubject=new rxjs__WEBPACK_IMPORTED_MODULE_3__.xQ,this.grantTypesSupported=[],this.inImplicitFlow=!1,this.saveNoncesInLocalStorage=!1,this.debug("angular-oauth2-oidc v10"),this.document=O,d||(d={}),this.discoveryDocumentLoaded$=this.discoveryDocumentLoadedSubject.asObservable(),this.events=this.eventsSubject.asObservable(),o&&(this.tokenValidationHandler=o),d&&this.configure(d);try{a?this.setStorage(a):"undefined"!=typeof sessionStorage&&this.setStorage(sessionStorage)}catch(E){console.error("No OAuthStorage provided and cannot access default (sessionStorage).Consider providing a custom OAuthStorage implementation in your module.",E)}if(this.checkLocalStorageAccessable()){const E=null===(M=null==window?void 0:window.navigator)||void 0===M?void 0:M.userAgent;((null==E?void 0:E.includes("MSIE "))||(null==E?void 0:E.includes("Trident")))&&(this.saveNoncesInLocalStorage=!0)}this.setupRefreshTimer()}checkLocalStorageAccessable(){if("undefined"==typeof window)return!1;const r="test";try{return void 0!==window.localStorage&&(localStorage.setItem(r,r),localStorage.removeItem(r),!0)}catch(t){return!1}}configure(r){Object.assign(this,new AuthConfig,r),this.config=Object.assign({},new AuthConfig,r),this.sessionChecksEnabled&&this.setupSessionCheck(),this.configChanged()}configChanged(){this.setupRefreshTimer()}restartSessionChecksIfStillLoggedIn(){this.hasValidIdToken()&&this.initSessionCheck()}restartRefreshTimerIfStillLoggedIn(){this.setupExpirationTimers()}setupSessionCheck(){this.events.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.h)(r=>"token_received"===r.type)).subscribe(r=>{this.initSessionCheck()})}setupAutomaticSilentRefresh(r={},t,a=!0){let o=!0;this.clearAutomaticRefreshTimer(),this.automaticRefreshSubscription=this.events.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.b)(d=>{"token_received"===d.type?o=!0:"logout"===d.type&&(o=!1)}),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.h)(d=>"token_expires"===d.type&&(null==t||"any"===t||d.info===t)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.b)(1e3)).subscribe(d=>{o&&this.refreshInternal(r,a).catch(u=>{this.debug("Automatic silent refresh did not work")})}),this.restartRefreshTimerIfStillLoggedIn()}refreshInternal(r,t){return this.useSilentRefresh||"code"!==this.responseType?this.silentRefresh(r,t):this.refreshToken()}loadDiscoveryDocumentAndTryLogin(r=null){return this.loadDiscoveryDocument().then(t=>this.tryLogin(r))}loadDiscoveryDocumentAndLogin(r=null){return this.loadDiscoveryDocumentAndTryLogin(r=r||{}).then(t=>!(!this.hasValidIdToken()||!this.hasValidAccessToken())||(this.initLoginFlow("string"==typeof r.state?r.state:""),!1))}debug(...r){this.showDebugInformation&&this.logger.debug.apply(this.logger,r)}validateUrlFromDiscoveryDocument(r){const t=[],a=this.validateUrlForHttps(r),o=this.validateUrlAgainstIssuer(r);return a||t.push("https for all urls required. Also for urls received by discovery."),o||t.push("Every url in discovery document has to start with the issuer url.Also see property strictDiscoveryDocumentValidation."),t}validateUrlForHttps(r){if(!r)return!0;const t=r.toLowerCase();return!(!1!==this.requireHttps&&(!t.match(/^http:\/\/localhost($|[:\/])/)&&!t.match(/^http:\/\/localhost($|[:\/])/)||"remoteOnly"!==this.requireHttps))||t.startsWith("https://")}assertUrlNotNullAndCorrectProtocol(r,t){if(!r)throw new Error(`'${t}' should not be null`);if(!this.validateUrlForHttps(r))throw new Error(`'${t}' must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).`)}validateUrlAgainstIssuer(r){return!this.strictDiscoveryDocumentValidation||!r||r.toLowerCase().startsWith(this.issuer.toLowerCase())}setupRefreshTimer(){"undefined"!=typeof window?((this.hasValidIdToken()||this.hasValidAccessToken())&&(this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.setupExpirationTimers()),this.tokenReceivedSubscription&&this.tokenReceivedSubscription.unsubscribe(),this.tokenReceivedSubscription=this.events.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.h)(r=>"token_received"===r.type)).subscribe(r=>{this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.setupExpirationTimers()})):this.debug("timer not supported on this plattform")}setupExpirationTimers(){this.hasValidAccessToken()&&this.setupAccessTokenTimer(),this.hasValidIdToken()&&this.setupIdTokenTimer()}setupAccessTokenTimer(){const r=this.getAccessTokenExpiration(),t=this.getAccessTokenStoredAt(),a=this.calcTimeout(t,r);this.ngZone.runOutsideAngular(()=>{this.accessTokenTimeoutSubscription=(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(new OAuthInfoEvent("token_expires","access_token")).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.g)(a)).subscribe(o=>{this.ngZone.run(()=>{this.eventsSubject.next(o)})})})}setupIdTokenTimer(){const r=this.getIdTokenExpiration(),t=this.getIdTokenStoredAt(),a=this.calcTimeout(t,r);this.ngZone.runOutsideAngular(()=>{this.idTokenTimeoutSubscription=(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(new OAuthInfoEvent("token_expires","id_token")).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.g)(a)).subscribe(o=>{this.ngZone.run(()=>{this.eventsSubject.next(o)})})})}stopAutomaticRefresh(){this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.clearAutomaticRefreshTimer()}clearAccessTokenTimer(){this.accessTokenTimeoutSubscription&&this.accessTokenTimeoutSubscription.unsubscribe()}clearIdTokenTimer(){this.idTokenTimeoutSubscription&&this.idTokenTimeoutSubscription.unsubscribe()}clearAutomaticRefreshTimer(){this.automaticRefreshSubscription&&this.automaticRefreshSubscription.unsubscribe()}calcTimeout(r,t){const a=this.dateTimeService.now();return Math.max(0,(t-r)*this.timeoutFactor-(a-r))}setStorage(r){this._storage=r,this.configChanged()}loadDiscoveryDocument(r=null){return new Promise((t,a)=>{r||((r=this.issuer||"").endsWith("/")||(r+="/"),r+=".well-known/openid-configuration"),this.validateUrlForHttps(r)?this.http.get(r).subscribe(o=>{if(!this.validateDiscoveryDocument(o))return this.eventsSubject.next(new OAuthErrorEvent("discovery_document_validation_error",null)),void a("discovery_document_validation_error");this.loginUrl=o.authorization_endpoint,this.logoutUrl=o.end_session_endpoint||this.logoutUrl,this.grantTypesSupported=o.grant_types_supported,this.issuer=o.issuer,this.tokenEndpoint=o.token_endpoint,this.userinfoEndpoint=o.userinfo_endpoint||this.userinfoEndpoint,this.jwksUri=o.jwks_uri,this.sessionCheckIFrameUrl=o.check_session_iframe||this.sessionCheckIFrameUrl,this.discoveryDocumentLoaded=!0,this.discoveryDocumentLoadedSubject.next(o),this.revocationEndpoint=o.revocation_endpoint||this.revocationEndpoint,this.sessionChecksEnabled&&this.restartSessionChecksIfStillLoggedIn(),this.loadJwks().then(d=>{const y=new OAuthSuccessEvent("discovery_document_loaded",{discoveryDocument:o,jwks:d});this.eventsSubject.next(y),t(y)}).catch(d=>{this.eventsSubject.next(new OAuthErrorEvent("discovery_document_load_error",d)),a(d)})},o=>{this.logger.error("error loading discovery document",o),this.eventsSubject.next(new OAuthErrorEvent("discovery_document_load_error",o)),a(o)}):a("issuer  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).")})}loadJwks(){return new Promise((r,t)=>{this.jwksUri?this.http.get(this.jwksUri).subscribe(a=>{this.jwks=a,this.eventsSubject.next(new OAuthSuccessEvent("discovery_document_loaded")),r(a)},a=>{this.logger.error("error loading jwks",a),this.eventsSubject.next(new OAuthErrorEvent("jwks_load_error",a)),t(a)}):r(null)})}validateDiscoveryDocument(r){let t;return this.skipIssuerCheck||r.issuer===this.issuer?(t=this.validateUrlFromDiscoveryDocument(r.authorization_endpoint),t.length>0?(this.logger.error("error validating authorization_endpoint in discovery document",t),!1):(t=this.validateUrlFromDiscoveryDocument(r.end_session_endpoint),t.length>0?(this.logger.error("error validating end_session_endpoint in discovery document",t),!1):(t=this.validateUrlFromDiscoveryDocument(r.token_endpoint),t.length>0&&this.logger.error("error validating token_endpoint in discovery document",t),t=this.validateUrlFromDiscoveryDocument(r.revocation_endpoint),t.length>0&&this.logger.error("error validating revocation_endpoint in discovery document",t),t=this.validateUrlFromDiscoveryDocument(r.userinfo_endpoint),t.length>0?(this.logger.error("error validating userinfo_endpoint in discovery document",t),!1):(t=this.validateUrlFromDiscoveryDocument(r.jwks_uri),t.length>0?(this.logger.error("error validating jwks_uri in discovery document",t),!1):(this.sessionChecksEnabled&&!r.check_session_iframe&&this.logger.warn("sessionChecksEnabled is activated but discovery document does not contain a check_session_iframe field"),!0))))):(this.logger.error("invalid issuer in discovery document","expected: "+this.issuer,"current: "+r.issuer),!1)}fetchTokenUsingPasswordFlowAndLoadUserProfile(r,t,a=new _angular_common_http__WEBPACK_IMPORTED_MODULE_9__.WM){return this.fetchTokenUsingPasswordFlow(r,t,a).then(()=>this.loadUserProfile())}loadUserProfile(){if(!this.hasValidAccessToken())throw new Error("Can not load User Profile without access_token");if(!this.validateUrlForHttps(this.userinfoEndpoint))throw new Error("userinfoEndpoint must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");return new Promise((r,t)=>{const a=(new _angular_common_http__WEBPACK_IMPORTED_MODULE_9__.WM).set("Authorization","Bearer "+this.getAccessToken());this.http.get(this.userinfoEndpoint,{headers:a,observe:"response",responseType:"text"}).subscribe(o=>{if(this.debug("userinfo received",JSON.stringify(o)),o.headers.get("content-type").startsWith("application/json")){let d=JSON.parse(o.body);const u=this.getIdentityClaims()||{};if(!this.skipSubjectCheck&&this.oidc&&(!u.sub||d.sub!==u.sub))return void t("if property oidc is true, the received user-id (sub) has to be the user-id of the user that has logged in with oidc.\nif you are not using oidc but just oauth2 password flow set oidc to false");d=Object.assign({},u,d),this._storage.setItem("id_token_claims_obj",JSON.stringify(d)),this.eventsSubject.next(new OAuthSuccessEvent("user_profile_loaded")),r({info:d})}else this.debug("userinfo is not JSON, treating it as JWE/JWS"),this.eventsSubject.next(new OAuthSuccessEvent("user_profile_loaded")),r(JSON.parse(o.body))},o=>{this.logger.error("error loading user info",o),this.eventsSubject.next(new OAuthErrorEvent("user_profile_load_error",o)),t(o)})})}fetchTokenUsingPasswordFlow(r,t,a=new _angular_common_http__WEBPACK_IMPORTED_MODULE_9__.WM){return this.fetchTokenUsingGrant("password",{username:r,password:t},a)}fetchTokenUsingGrant(r,t,a=new _angular_common_http__WEBPACK_IMPORTED_MODULE_9__.WM){this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint");let o=new _angular_common_http__WEBPACK_IMPORTED_MODULE_9__.LE({encoder:new WebHttpUrlEncodingCodec}).set("grant_type",r).set("scope",this.scope);if(this.useHttpBasicAuth){const d=btoa(`${this.clientId}:${this.dummyClientSecret}`);a=a.set("Authorization","Basic "+d)}if(this.useHttpBasicAuth||(o=o.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(o=o.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(const d of Object.getOwnPropertyNames(this.customQueryParams))o=o.set(d,this.customQueryParams[d]);for(const d of Object.keys(t))o=o.set(d,t[d]);return a=a.set("Content-Type","application/x-www-form-urlencoded"),new Promise((d,u)=>{this.http.post(this.tokenEndpoint,o,{headers:a}).subscribe(y=>{this.debug("tokenResponse",y),this.storeAccessTokenResponse(y.access_token,y.refresh_token,y.expires_in||this.fallbackAccessTokenExpirationTimeInSec,y.scope,this.extractRecognizedCustomParameters(y)),this.oidc&&y.id_token&&this.processIdToken(y.id_token,y.access_token).then(D=>{this.storeIdToken(D),d(y)}),this.eventsSubject.next(new OAuthSuccessEvent("token_received")),d(y)},y=>{this.logger.error("Error performing ${grantType} flow",y),this.eventsSubject.next(new OAuthErrorEvent("token_error",y)),u(y)})})}refreshToken(){return this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint"),new Promise((r,t)=>{let a=new _angular_common_http__WEBPACK_IMPORTED_MODULE_9__.LE({encoder:new WebHttpUrlEncodingCodec}).set("grant_type","refresh_token").set("scope",this.scope).set("refresh_token",this._storage.getItem("refresh_token")),o=(new _angular_common_http__WEBPACK_IMPORTED_MODULE_9__.WM).set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){const d=btoa(`${this.clientId}:${this.dummyClientSecret}`);o=o.set("Authorization","Basic "+d)}if(this.useHttpBasicAuth||(a=a.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(a=a.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(const d of Object.getOwnPropertyNames(this.customQueryParams))a=a.set(d,this.customQueryParams[d]);this.http.post(this.tokenEndpoint,a,{headers:o}).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.w)(d=>d.id_token?(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.D)(this.processIdToken(d.id_token,d.access_token,!0)).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.b)(u=>this.storeIdToken(u)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.U)(u=>d)):(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(d))).subscribe(d=>{this.debug("refresh tokenResponse",d),this.storeAccessTokenResponse(d.access_token,d.refresh_token,d.expires_in||this.fallbackAccessTokenExpirationTimeInSec,d.scope,this.extractRecognizedCustomParameters(d)),this.eventsSubject.next(new OAuthSuccessEvent("token_received")),this.eventsSubject.next(new OAuthSuccessEvent("token_refreshed")),r(d)},d=>{this.logger.error("Error refreshing token",d),this.eventsSubject.next(new OAuthErrorEvent("token_refresh_error",d)),t(d)})})}removeSilentRefreshEventListener(){this.silentRefreshPostMessageEventListener&&(window.removeEventListener("message",this.silentRefreshPostMessageEventListener),this.silentRefreshPostMessageEventListener=null)}setupSilentRefreshEventListener(){this.removeSilentRefreshEventListener(),this.silentRefreshPostMessageEventListener=r=>{const t=this.processMessageEventMessage(r);this.tryLogin({customHashFragment:t,preventClearHashAfterLogin:!0,customRedirectUri:this.silentRefreshRedirectUri||this.redirectUri}).catch(a=>this.debug("tryLogin during silent refresh failed",a))},window.addEventListener("message",this.silentRefreshPostMessageEventListener)}silentRefresh(r={},t=!0){const a=this.getIdentityClaims()||{};if(this.useIdTokenHintForSilentRefresh&&this.hasValidIdToken()&&(r.id_token_hint=this.getIdToken()),!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");if(void 0===this.document)throw new Error("silent refresh is not supported on this platform");const o=this.document.getElementById(this.silentRefreshIFrameName);o&&this.document.body.removeChild(o),this.silentRefreshSubject=a.sub;const d=this.document.createElement("iframe");d.id=this.silentRefreshIFrameName,this.setupSilentRefreshEventListener(),this.createLoginUrl(null,null,this.silentRefreshRedirectUri||this.redirectUri,t,r).then(p=>{d.setAttribute("src",p),this.silentRefreshShowIFrame||(d.style.display="none"),this.document.body.appendChild(d)});const y=this.events.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.h)(p=>p instanceof OAuthErrorEvent),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.P)()),D=this.events.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.h)(p=>"token_received"===p.type),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.P)()),O=(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(new OAuthErrorEvent("silent_refresh_timeout",null)).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.g)(this.silentRefreshTimeout));return(0,rxjs__WEBPACK_IMPORTED_MODULE_14__.S3)([y,D,O]).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.U)(p=>{if(p instanceof OAuthErrorEvent)throw"silent_refresh_timeout"===p.type||(p=new OAuthErrorEvent("silent_refresh_error",p)),this.eventsSubject.next(p),p;return"token_received"===p.type&&(p=new OAuthSuccessEvent("silently_refreshed"),this.eventsSubject.next(p)),p})).toPromise()}initImplicitFlowInPopup(r){return this.initLoginFlowInPopup(r)}initLoginFlowInPopup(r){return r=r||{},this.createLoginUrl(null,null,this.silentRefreshRedirectUri,!1,{display:"popup"}).then(t=>new Promise((a,o)=>{let y,u=null;r.windowRef?r.windowRef&&!r.windowRef.closed&&(u=r.windowRef,u.location.href=t):u=window.open(t,"ngx-oauth2-oidc-login",this.calculatePopupFeatures(r));const D=P=>{this.tryLogin({customHashFragment:P,preventClearHashAfterLogin:!0,customRedirectUri:this.silentRefreshRedirectUri}).then(()=>{p(),a(!0)},T=>{p(),o(T)})};u?y=window.setInterval(()=>{(!u||u.closed)&&(p(),o(new OAuthErrorEvent("popup_closed",{})))},500):o(new OAuthErrorEvent("popup_blocked",{}));const p=()=>{window.clearInterval(y),window.removeEventListener("storage",E),window.removeEventListener("message",M),null!==u&&u.close(),u=null},M=P=>{const T=this.processMessageEventMessage(P);T&&null!==T?(window.removeEventListener("storage",E),D(T)):console.log("false event firing")},E=P=>{"auth_hash"===P.key&&(window.removeEventListener("message",M),D(P.newValue))};window.addEventListener("message",M),window.addEventListener("storage",E)}))}calculatePopupFeatures(r){const t=r.height||470,a=r.width||500,o=window.screenLeft+(window.outerWidth-a)/2;return`location=no,toolbar=no,width=${a},height=${t},top=${window.screenTop+(window.outerHeight-t)/2},left=${o}`}processMessageEventMessage(r){let t="#";if(this.silentRefreshMessagePrefix&&(t+=this.silentRefreshMessagePrefix),!r||!r.data||"string"!=typeof r.data)return;const a=r.data;return a.startsWith(t)?"#"+a.substr(t.length):void 0}canPerformSessionCheck(){return!!this.sessionChecksEnabled&&(this.sessionCheckIFrameUrl?this.getSessionState()?void 0!==this.document:(console.warn("sessionChecksEnabled is activated but there is no session_state"),!1):(console.warn("sessionChecksEnabled is activated but there is no sessionCheckIFrameUrl"),!1))}setupSessionCheckEventListener(){this.removeSessionCheckEventListener(),this.sessionCheckEventListener=r=>{const t=r.origin.toLowerCase(),a=this.issuer.toLowerCase();if(this.debug("sessionCheckEventListener"),a.startsWith(t)){switch(r.data){case"unchanged":this.ngZone.run(()=>{this.handleSessionUnchanged()});break;case"changed":this.ngZone.run(()=>{this.handleSessionChange()});break;case"error":this.ngZone.run(()=>{this.handleSessionError()})}this.debug("got info from session check inframe",r)}else this.debug("sessionCheckEventListener","wrong origin",t,"expected",a,"event",r)},this.ngZone.runOutsideAngular(()=>{window.addEventListener("message",this.sessionCheckEventListener)})}handleSessionUnchanged(){this.debug("session check","session unchanged"),this.eventsSubject.next(new OAuthInfoEvent("session_unchanged"))}handleSessionChange(){this.eventsSubject.next(new OAuthInfoEvent("session_changed")),this.stopSessionCheckTimer(),this.useSilentRefresh||"code"!==this.responseType?this.silentRefreshRedirectUri?(this.silentRefresh().catch(r=>this.debug("silent refresh failed after session changed")),this.waitForSilentRefreshAfterSessionChange()):(this.eventsSubject.next(new OAuthInfoEvent("session_terminated")),this.logOut(!0)):this.refreshToken().then(r=>{this.debug("token refresh after session change worked")}).catch(r=>{this.debug("token refresh did not work after session changed"),this.eventsSubject.next(new OAuthInfoEvent("session_terminated")),this.logOut(!0)})}waitForSilentRefreshAfterSessionChange(){this.events.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.h)(r=>"silently_refreshed"===r.type||"silent_refresh_timeout"===r.type||"silent_refresh_error"===r.type),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.P)()).subscribe(r=>{"silently_refreshed"!==r.type&&(this.debug("silent refresh did not work after session changed"),this.eventsSubject.next(new OAuthInfoEvent("session_terminated")),this.logOut(!0))})}handleSessionError(){this.stopSessionCheckTimer(),this.eventsSubject.next(new OAuthInfoEvent("session_error"))}removeSessionCheckEventListener(){this.sessionCheckEventListener&&(window.removeEventListener("message",this.sessionCheckEventListener),this.sessionCheckEventListener=null)}initSessionCheck(){if(!this.canPerformSessionCheck())return;const r=this.document.getElementById(this.sessionCheckIFrameName);r&&this.document.body.removeChild(r);const t=this.document.createElement("iframe");t.id=this.sessionCheckIFrameName,this.setupSessionCheckEventListener(),t.setAttribute("src",this.sessionCheckIFrameUrl),t.style.display="none",this.document.body.appendChild(t),this.startSessionCheckTimer()}startSessionCheckTimer(){this.stopSessionCheckTimer(),this.ngZone.runOutsideAngular(()=>{this.sessionCheckTimer=setInterval(this.checkSession.bind(this),this.sessionCheckIntervall)})}stopSessionCheckTimer(){this.sessionCheckTimer&&(clearInterval(this.sessionCheckTimer),this.sessionCheckTimer=null)}checkSession(){const r=this.document.getElementById(this.sessionCheckIFrameName);r||this.logger.warn("checkSession did not find iframe",this.sessionCheckIFrameName);const t=this.getSessionState();t||this.stopSessionCheckTimer(),r.contentWindow.postMessage(this.clientId+" "+t,this.issuer)}createLoginUrl(r="",t="",a="",o=!1,d={}){return(0,tslib__WEBPACK_IMPORTED_MODULE_2__.mG)(this,void 0,void 0,function*(){const u=this;let y;y=a||this.redirectUri;const D=yield this.createAndSaveNonce();if(r=r?D+this.config.nonceStateSeparator+encodeURIComponent(r):D,!this.requestAccessToken&&!this.oidc)throw new Error("Either requestAccessToken or oidc or both must be true");this.responseType=this.config.responseType?this.config.responseType:this.oidc&&this.requestAccessToken?"id_token token":this.oidc&&!this.requestAccessToken?"id_token":"token";const O=u.loginUrl.indexOf("?")>-1?"&":"?";let p=u.scope;this.oidc&&!p.match(/(^|\s)openid($|\s)/)&&(p="openid "+p);let M=u.loginUrl+O+"response_type="+encodeURIComponent(u.responseType)+"&client_id="+encodeURIComponent(u.clientId)+"&state="+encodeURIComponent(r)+"&redirect_uri="+encodeURIComponent(y)+"&scope="+encodeURIComponent(p);if(this.responseType.includes("code")&&!this.disablePKCE){const[E,P]=yield this.createChallangeVerifierPairForPKCE();this.saveNoncesInLocalStorage&&void 0!==window.localStorage?localStorage.setItem("PKCE_verifier",P):this._storage.setItem("PKCE_verifier",P),M+="&code_challenge="+E,M+="&code_challenge_method=S256"}t&&(M+="&login_hint="+encodeURIComponent(t)),u.resource&&(M+="&resource="+encodeURIComponent(u.resource)),u.oidc&&(M+="&nonce="+encodeURIComponent(D)),o&&(M+="&prompt=none");for(const E of Object.keys(d))M+="&"+encodeURIComponent(E)+"="+encodeURIComponent(d[E]);if(this.customQueryParams)for(const E of Object.getOwnPropertyNames(this.customQueryParams))M+="&"+E+"="+encodeURIComponent(this.customQueryParams[E]);return M})}initImplicitFlowInternal(r="",t=""){if(this.inImplicitFlow)return;if(this.inImplicitFlow=!0,!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");let a={},o=null;"string"==typeof t?o=t:"object"==typeof t&&(a=t),this.createLoginUrl(r,o,null,!1,a).then(this.config.openUri).catch(d=>{console.error("Error in initImplicitFlow",d),this.inImplicitFlow=!1})}initImplicitFlow(r="",t=""){""!==this.loginUrl?this.initImplicitFlowInternal(r,t):this.events.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.h)(a=>"discovery_document_loaded"===a.type)).subscribe(a=>this.initImplicitFlowInternal(r,t))}resetImplicitFlow(){this.inImplicitFlow=!1}callOnTokenReceivedIfExists(r){const t=this;if(r.onTokenReceived){const a={idClaims:t.getIdentityClaims(),idToken:t.getIdToken(),accessToken:t.getAccessToken(),state:t.state};r.onTokenReceived(a)}}storeAccessTokenResponse(r,t,a,o,d){if(this._storage.setItem("access_token",r),o&&!Array.isArray(o)?this._storage.setItem("granted_scopes",JSON.stringify(o.split(" "))):o&&Array.isArray(o)&&this._storage.setItem("granted_scopes",JSON.stringify(o)),this._storage.setItem("access_token_stored_at",""+this.dateTimeService.now()),a){const u=1e3*a,D=this.dateTimeService.new().getTime()+u;this._storage.setItem("expires_at",""+D)}t&&this._storage.setItem("refresh_token",t),d&&d.forEach((u,y)=>{this._storage.setItem(y,u)})}tryLogin(r=null){return"code"===this.config.responseType?this.tryLoginCodeFlow(r).then(t=>!0):this.tryLoginImplicitFlow(r)}parseQueryString(r){return r&&0!==r.length?("?"===r.charAt(0)&&(r=r.substr(1)),this.urlHelper.parseQueryString(r)):{}}tryLoginCodeFlow(r=null){return(0,tslib__WEBPACK_IMPORTED_MODULE_2__.mG)(this,void 0,void 0,function*(){const t=(r=r||{}).customHashFragment?r.customHashFragment.substring(1):window.location.search,a=this.getCodePartsFromUrl(t),o=a.code,d=a.state,u=a.session_state;if(!r.preventClearHashAfterLogin){const O=location.origin+location.pathname+location.search.replace(/code=[^&\$]*/,"").replace(/scope=[^&\$]*/,"").replace(/state=[^&\$]*/,"").replace(/session_state=[^&\$]*/,"").replace(/^\?&/,"?").replace(/&$/,"").replace(/^\?$/,"").replace(/&+/g,"&").replace(/\?&/,"?").replace(/\?$/,"")+location.hash;history.replaceState(null,window.name,O)}let[y,D]=this.parseState(d);if(this.state=D,a.error){this.debug("error trying to login"),this.handleLoginError(r,a);const O=new OAuthErrorEvent("code_error",{},a);return this.eventsSubject.next(O),Promise.reject(O)}if(!r.disableNonceCheck){if(!y)return this.saveRequestedRoute(),Promise.resolve();if(!r.disableOAuth2StateCheck&&!this.validateNonce(y)){const p=new OAuthErrorEvent("invalid_nonce_in_state",null);return this.eventsSubject.next(p),Promise.reject(p)}return this.storeSessionState(u),o&&(yield this.getTokenFromCode(o,r),this.restoreRequestedRoute()),Promise.resolve()}return Promise.reject()})}saveRequestedRoute(){this.config.preserveRequestedRoute&&this._storage.setItem("requested_route",window.location.pathname+window.location.search)}restoreRequestedRoute(){const r=this._storage.getItem("requested_route");r&&history.replaceState(null,"",window.location.origin+r)}getCodePartsFromUrl(r){return r&&0!==r.length?("?"===r.charAt(0)&&(r=r.substr(1)),this.urlHelper.parseQueryString(r)):this.urlHelper.getHashFragmentParams()}getTokenFromCode(r,t){let a=new _angular_common_http__WEBPACK_IMPORTED_MODULE_9__.LE({encoder:new WebHttpUrlEncodingCodec}).set("grant_type","authorization_code").set("code",r).set("redirect_uri",t.customRedirectUri||this.redirectUri);if(!this.disablePKCE){let o;o=this.saveNoncesInLocalStorage&&void 0!==window.localStorage?localStorage.getItem("PKCE_verifier"):this._storage.getItem("PKCE_verifier"),o?a=a.set("code_verifier",o):console.warn("No PKCE verifier found in oauth storage!")}return this.fetchAndProcessToken(a,t)}fetchAndProcessToken(r,t){t=t||{},this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint");let a=(new _angular_common_http__WEBPACK_IMPORTED_MODULE_9__.WM).set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){const o=btoa(`${this.clientId}:${this.dummyClientSecret}`);a=a.set("Authorization","Basic "+o)}return this.useHttpBasicAuth||(r=r.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(r=r.set("client_secret",this.dummyClientSecret)),new Promise((o,d)=>{if(this.customQueryParams)for(let u of Object.getOwnPropertyNames(this.customQueryParams))r=r.set(u,this.customQueryParams[u]);this.http.post(this.tokenEndpoint,r,{headers:a}).subscribe(u=>{this.debug("refresh tokenResponse",u),this.storeAccessTokenResponse(u.access_token,u.refresh_token,u.expires_in||this.fallbackAccessTokenExpirationTimeInSec,u.scope,this.extractRecognizedCustomParameters(u)),this.oidc&&u.id_token?this.processIdToken(u.id_token,u.access_token,t.disableNonceCheck).then(y=>{this.storeIdToken(y),this.eventsSubject.next(new OAuthSuccessEvent("token_received")),this.eventsSubject.next(new OAuthSuccessEvent("token_refreshed")),o(u)}).catch(y=>{this.eventsSubject.next(new OAuthErrorEvent("token_validation_error",y)),console.error("Error validating tokens"),console.error(y),d(y)}):(this.eventsSubject.next(new OAuthSuccessEvent("token_received")),this.eventsSubject.next(new OAuthSuccessEvent("token_refreshed")),o(u))},u=>{console.error("Error getting token",u),this.eventsSubject.next(new OAuthErrorEvent("token_refresh_error",u)),d(u)})})}tryLoginImplicitFlow(r=null){let t;t=(r=r||{}).customHashFragment?this.urlHelper.getHashFragmentParams(r.customHashFragment):this.urlHelper.getHashFragmentParams(),this.debug("parsed url",t);const a=t.state;let[o,d]=this.parseState(a);if(this.state=d,t.error){this.debug("error trying to login"),this.handleLoginError(r,t);const p=new OAuthErrorEvent("token_error",{},t);return this.eventsSubject.next(p),Promise.reject(p)}const u=t.access_token,y=t.id_token,D=t.session_state,O=t.scope;if(!this.requestAccessToken&&!this.oidc)return Promise.reject("Either requestAccessToken or oidc (or both) must be true.");if(this.requestAccessToken&&!u||this.requestAccessToken&&!r.disableOAuth2StateCheck&&!a||this.oidc&&!y)return Promise.resolve(!1);if(this.sessionChecksEnabled&&!D&&this.logger.warn("session checks (Session Status Change Notification) were activated in the configuration but the id_token does not contain a session_state claim"),this.requestAccessToken&&!r.disableNonceCheck&&!this.validateNonce(o)){const M=new OAuthErrorEvent("invalid_nonce_in_state",null);return this.eventsSubject.next(M),Promise.reject(M)}return this.requestAccessToken&&this.storeAccessTokenResponse(u,null,t.expires_in||this.fallbackAccessTokenExpirationTimeInSec,O),this.oidc?this.processIdToken(y,u,r.disableNonceCheck).then(p=>r.validationHandler?r.validationHandler({accessToken:u,idClaims:p.idTokenClaims,idToken:p.idToken,state:a}).then(M=>p):p).then(p=>(this.storeIdToken(p),this.storeSessionState(D),this.clearHashAfterLogin&&!r.preventClearHashAfterLogin&&this.clearLocationHash(),this.eventsSubject.next(new OAuthSuccessEvent("token_received")),this.callOnTokenReceivedIfExists(r),this.inImplicitFlow=!1,!0)).catch(p=>(this.eventsSubject.next(new OAuthErrorEvent("token_validation_error",p)),this.logger.error("Error validating tokens"),this.logger.error(p),Promise.reject(p))):(this.eventsSubject.next(new OAuthSuccessEvent("token_received")),this.clearHashAfterLogin&&!r.preventClearHashAfterLogin&&this.clearLocationHash(),this.callOnTokenReceivedIfExists(r),Promise.resolve(!0))}parseState(r){let t=r,a="";if(r){const o=r.indexOf(this.config.nonceStateSeparator);o>-1&&(t=r.substr(0,o),a=r.substr(o+this.config.nonceStateSeparator.length))}return[t,a]}validateNonce(r){let t;return t=this.saveNoncesInLocalStorage&&void 0!==window.localStorage?localStorage.getItem("nonce"):this._storage.getItem("nonce"),t===r||(console.error("Validating access_token failed, wrong state/nonce.",t,r),!1)}storeIdToken(r){this._storage.setItem("id_token",r.idToken),this._storage.setItem("id_token_claims_obj",r.idTokenClaimsJson),this._storage.setItem("id_token_expires_at",""+r.idTokenExpiresAt),this._storage.setItem("id_token_stored_at",""+this.dateTimeService.now())}storeSessionState(r){this._storage.setItem("session_state",r)}getSessionState(){return this._storage.getItem("session_state")}handleLoginError(r,t){r.onLoginError&&r.onLoginError(t),this.clearHashAfterLogin&&!r.preventClearHashAfterLogin&&this.clearLocationHash()}getClockSkewInMsec(r=6e5){return this.clockSkewInSec?1e3*this.clockSkewInSec:r}processIdToken(r,t,a=!1){const o=r.split("."),u=b64DecodeUnicode(this.padBase64(o[0])),y=JSON.parse(u),O=b64DecodeUnicode(this.padBase64(o[1])),p=JSON.parse(O);let M;if(M=this.saveNoncesInLocalStorage&&void 0!==window.localStorage?localStorage.getItem("nonce"):this._storage.getItem("nonce"),Array.isArray(p.aud)){if(p.aud.every(w=>w!==this.clientId)){const w="Wrong audience: "+p.aud.join(",");return this.logger.warn(w),Promise.reject(w)}}else if(p.aud!==this.clientId){const w="Wrong audience: "+p.aud;return this.logger.warn(w),Promise.reject(w)}if(!p.sub){const w="No sub claim in id_token";return this.logger.warn(w),Promise.reject(w)}if(this.sessionChecksEnabled&&this.silentRefreshSubject&&this.silentRefreshSubject!==p.sub){const w=`After refreshing, we got an id_token for another user (sub). Expected sub: ${this.silentRefreshSubject}, received sub: ${p.sub}`;return this.logger.warn(w),Promise.reject(w)}if(!p.iat){const w="No iat claim in id_token";return this.logger.warn(w),Promise.reject(w)}if(!this.skipIssuerCheck&&p.iss!==this.issuer){const w="Wrong issuer: "+p.iss;return this.logger.warn(w),Promise.reject(w)}if(!a&&p.nonce!==M){const w="Wrong nonce: "+p.nonce;return this.logger.warn(w),Promise.reject(w)}if(this.hasOwnProperty("responseType")&&("code"===this.responseType||"id_token"===this.responseType)&&(this.disableAtHashCheck=!0),!this.disableAtHashCheck&&this.requestAccessToken&&!p.at_hash){const w="An at_hash is needed!";return this.logger.warn(w),Promise.reject(w)}const E=this.dateTimeService.now(),P=1e3*p.iat,T=1e3*p.exp,C=this.getClockSkewInMsec();if(P-C>=E||T+C<=E){const w="Token has expired";return console.error(w),console.error({now:E,issuedAtMSec:P,expiresAtMSec:T}),Promise.reject(w)}const S={accessToken:t,idToken:r,jwks:this.jwks,idTokenClaims:p,idTokenHeader:y,loadKeys:()=>this.loadJwks()};return this.disableAtHashCheck?this.checkSignature(S).then(w=>({idToken:r,idTokenClaims:p,idTokenClaimsJson:O,idTokenHeader:y,idTokenHeaderJson:u,idTokenExpiresAt:T})):this.checkAtHash(S).then(w=>{if(!this.disableAtHashCheck&&this.requestAccessToken&&!w){const H="Wrong at_hash";return this.logger.warn(H),Promise.reject(H)}return this.checkSignature(S).then(H=>{const Y={idToken:r,idTokenClaims:p,idTokenClaimsJson:O,idTokenHeader:y,idTokenHeaderJson:u,idTokenExpiresAt:T};return this.disableAtHashCheck?Y:this.checkAtHash(S).then(z=>{if(this.requestAccessToken&&!z){const te="Wrong at_hash";return this.logger.warn(te),Promise.reject(te)}return Y})})})}getIdentityClaims(){const r=this._storage.getItem("id_token_claims_obj");return r?JSON.parse(r):null}getGrantedScopes(){const r=this._storage.getItem("granted_scopes");return r?JSON.parse(r):null}getIdToken(){return this._storage?this._storage.getItem("id_token"):null}padBase64(r){for(;r.length%4!=0;)r+="=";return r}getAccessToken(){return this._storage?this._storage.getItem("access_token"):null}getRefreshToken(){return this._storage?this._storage.getItem("refresh_token"):null}getAccessTokenExpiration(){return this._storage.getItem("expires_at")?parseInt(this._storage.getItem("expires_at"),10):null}getAccessTokenStoredAt(){return parseInt(this._storage.getItem("access_token_stored_at"),10)}getIdTokenStoredAt(){return parseInt(this._storage.getItem("id_token_stored_at"),10)}getIdTokenExpiration(){return this._storage.getItem("id_token_expires_at")?parseInt(this._storage.getItem("id_token_expires_at"),10):null}hasValidAccessToken(){if(this.getAccessToken()){const r=this._storage.getItem("expires_at"),t=this.dateTimeService.new();return!(r&&parseInt(r,10)<t.getTime()-this.getClockSkewInMsec())}return!1}hasValidIdToken(){if(this.getIdToken()){const r=this._storage.getItem("id_token_expires_at"),t=this.dateTimeService.new();return!(r&&parseInt(r,10)<t.getTime()-this.getClockSkewInMsec())}return!1}getCustomTokenResponseProperty(r){return this._storage&&this.config.customTokenParameters&&this.config.customTokenParameters.indexOf(r)>=0&&null!==this._storage.getItem(r)?JSON.parse(this._storage.getItem(r)):null}authorizationHeader(){return"Bearer "+this.getAccessToken()}logOut(r={},t=""){let a=!1;"boolean"==typeof r&&(a=r,r={});const o=this.getIdToken();if(this._storage.removeItem("access_token"),this._storage.removeItem("id_token"),this._storage.removeItem("refresh_token"),this.saveNoncesInLocalStorage?(localStorage.removeItem("nonce"),localStorage.removeItem("PKCE_verifier")):(this._storage.removeItem("nonce"),this._storage.removeItem("PKCE_verifier")),this._storage.removeItem("expires_at"),this._storage.removeItem("id_token_claims_obj"),this._storage.removeItem("id_token_expires_at"),this._storage.removeItem("id_token_stored_at"),this._storage.removeItem("access_token_stored_at"),this._storage.removeItem("granted_scopes"),this._storage.removeItem("session_state"),this.config.customTokenParameters&&this.config.customTokenParameters.forEach(u=>this._storage.removeItem(u)),this.silentRefreshSubject=null,this.eventsSubject.next(new OAuthInfoEvent("logout")),!this.logoutUrl||a||!o&&!this.postLogoutRedirectUri)return;let d;if(!this.validateUrlForHttps(this.logoutUrl))throw new Error("logoutUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");if(this.logoutUrl.indexOf("{{")>-1)d=this.logoutUrl.replace(/\{\{id_token\}\}/,encodeURIComponent(o)).replace(/\{\{client_id\}\}/,encodeURIComponent(this.clientId));else{let u=new _angular_common_http__WEBPACK_IMPORTED_MODULE_9__.LE({encoder:new WebHttpUrlEncodingCodec});o&&(u=u.set("id_token_hint",o));const y=this.postLogoutRedirectUri||this.redirectUriAsPostLogoutRedirectUriFallback&&this.redirectUri||"";y&&(u=u.set("post_logout_redirect_uri",y),t&&(u=u.set("state",t)));for(let D in r)u=u.set(D,r[D]);d=this.logoutUrl+(this.logoutUrl.indexOf("?")>-1?"&":"?")+u.toString()}this.config.openUri(d)}createAndSaveNonce(){const r=this;return this.createNonce().then(function(t){return r.saveNoncesInLocalStorage&&void 0!==window.localStorage?localStorage.setItem("nonce",t):r._storage.setItem("nonce",t),t})}ngOnDestroy(){this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.removeSilentRefreshEventListener();const r=this.document.getElementById(this.silentRefreshIFrameName);r&&r.remove(),this.stopSessionCheckTimer(),this.removeSessionCheckEventListener();const t=this.document.getElementById(this.sessionCheckIFrameName);t&&t.remove()}createNonce(){return new Promise(r=>{if(this.rngUrl)throw new Error("createNonce with rng-web-api has not been implemented so far");const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~";let a=45,o="";const d="undefined"==typeof self?null:self.crypto||self.msCrypto;if(d){let u=new Uint8Array(a);d.getRandomValues(u),u.map||(u.map=Array.prototype.map),u=u.map(y=>t.charCodeAt(y%t.length)),o=String.fromCharCode.apply(null,u)}else for(;0<a--;)o+=t[Math.random()*t.length|0];r(base64UrlEncode(o))})}checkAtHash(r){return(0,tslib__WEBPACK_IMPORTED_MODULE_2__.mG)(this,void 0,void 0,function*(){return this.tokenValidationHandler?this.tokenValidationHandler.validateAtHash(r):(this.logger.warn("No tokenValidationHandler configured. Cannot check at_hash."),!0)})}checkSignature(r){return this.tokenValidationHandler?this.tokenValidationHandler.validateSignature(r):(this.logger.warn("No tokenValidationHandler configured. Cannot check signature."),Promise.resolve(null))}initLoginFlow(r="",t={}){return"code"===this.responseType?this.initCodeFlow(r,t):this.initImplicitFlow(r,t)}initCodeFlow(r="",t={}){""!==this.loginUrl?this.initCodeFlowInternal(r,t):this.events.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.h)(a=>"discovery_document_loaded"===a.type)).subscribe(a=>this.initCodeFlowInternal(r,t))}initCodeFlowInternal(r="",t={}){if(!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");let a={},o=null;"string"==typeof t?o=t:"object"==typeof t&&(a=t),this.createLoginUrl(r,o,null,!1,a).then(this.config.openUri).catch(d=>{console.error("Error in initAuthorizationCodeFlow"),console.error(d)})}createChallangeVerifierPairForPKCE(){return(0,tslib__WEBPACK_IMPORTED_MODULE_2__.mG)(this,void 0,void 0,function*(){if(!this.crypto)throw new Error("PKCE support for code flow needs a CryptoHander. Did you import the OAuthModule using forRoot() ?");const r=yield this.createNonce();return[base64UrlEncode(yield this.crypto.calcHash(r,"sha-256")),r]})}extractRecognizedCustomParameters(r){let t=new Map;return this.config.customTokenParameters&&this.config.customTokenParameters.forEach(a=>{r[a]&&t.set(a,JSON.stringify(r[a]))}),t}revokeTokenAndLogout(r={},t=!1){let a=this.revocationEndpoint,o=this.getAccessToken(),d=this.getRefreshToken();if(!o)return;let u=new _angular_common_http__WEBPACK_IMPORTED_MODULE_9__.LE({encoder:new WebHttpUrlEncodingCodec}),y=(new _angular_common_http__WEBPACK_IMPORTED_MODULE_9__.WM).set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){const D=btoa(`${this.clientId}:${this.dummyClientSecret}`);y=y.set("Authorization","Basic "+D)}if(this.useHttpBasicAuth||(u=u.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(u=u.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(const D of Object.getOwnPropertyNames(this.customQueryParams))u=u.set(D,this.customQueryParams[D]);return new Promise((D,O)=>{let p,M;if(o){let E=u.set("token",o).set("token_type_hint","access_token");p=this.http.post(a,E,{headers:y})}else p=(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(null);if(d){let E=u.set("token",d).set("token_type_hint","refresh_token");M=this.http.post(a,E,{headers:y})}else M=(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(null);t&&(p=p.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_15__.K)(E=>0===E.status?(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(null):(0,rxjs__WEBPACK_IMPORTED_MODULE_16__._)(E))),M=M.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_15__.K)(E=>0===E.status?(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(null):(0,rxjs__WEBPACK_IMPORTED_MODULE_16__._)(E)))),(0,rxjs__WEBPACK_IMPORTED_MODULE_17__.aj)([p,M]).subscribe(E=>{this.logOut(r),D(E),this.logger.info("Token successfully revoked")},E=>{this.logger.error("Error revoking token",E),this.eventsSubject.next(new OAuthErrorEvent("token_revoke_error",E)),O(E)})})}clearLocationHash(){""!=location.hash&&(location.hash="")}}return c.\u0275fac=function(r){return new(r||c)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.LFG(_angular_core__WEBPACK_IMPORTED_MODULE_1__.R0b),_angular_core__WEBPACK_IMPORTED_MODULE_1__.LFG(_angular_common_http__WEBPACK_IMPORTED_MODULE_9__.eN),_angular_core__WEBPACK_IMPORTED_MODULE_1__.LFG(OAuthStorage,8),_angular_core__WEBPACK_IMPORTED_MODULE_1__.LFG(ValidationHandler,8),_angular_core__WEBPACK_IMPORTED_MODULE_1__.LFG(AuthConfig,8),_angular_core__WEBPACK_IMPORTED_MODULE_1__.LFG(UrlHelperService),_angular_core__WEBPACK_IMPORTED_MODULE_1__.LFG(OAuthLogger),_angular_core__WEBPACK_IMPORTED_MODULE_1__.LFG(HashHandler,8),_angular_core__WEBPACK_IMPORTED_MODULE_1__.LFG(_angular_common__WEBPACK_IMPORTED_MODULE_18__.K0),_angular_core__WEBPACK_IMPORTED_MODULE_1__.LFG(DateTimeProvider))},c.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_1__.Yz7({token:c,factory:c.\u0275fac}),c})();class OAuthModuleConfig{}class OAuthResourceServerConfig{}class OAuthResourceServerErrorHandler{}class OAuthNoopResourceServerErrorHandler{handleError(_){return(0,rxjs__WEBPACK_IMPORTED_MODULE_16__._)(_)}}let DefaultOAuthInterceptor=(()=>{class c{constructor(r,t,a){this.oAuthService=r,this.errorHandler=t,this.moduleConfig=a}checkUrl(r){return this.moduleConfig.resourceServer.customUrlValidation?this.moduleConfig.resourceServer.customUrlValidation(r):!this.moduleConfig.resourceServer.allowedUrls||!!this.moduleConfig.resourceServer.allowedUrls.find(t=>r.toLowerCase().startsWith(t.toLowerCase()))}intercept(r,t){const a=r.url.toLowerCase();return this.moduleConfig&&this.moduleConfig.resourceServer&&this.checkUrl(a)?this.moduleConfig.resourceServer.sendAccessToken?(0,rxjs__WEBPACK_IMPORTED_MODULE_19__.T)((0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(this.oAuthService.getAccessToken()).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.h)(d=>!!d)),this.oAuthService.events.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.h)(d=>"token_received"===d.type),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.V)(this.oAuthService.waitForTokenInMsec||0),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_15__.K)(d=>(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(null)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.U)(d=>this.oAuthService.getAccessToken()))).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.q)(1),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_22__.zg)(d=>{if(d){const y=r.headers.set("Authorization","Bearer "+d);r=r.clone({headers:y})}return t.handle(r).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_15__.K)(u=>this.errorHandler.handleError(u)))})):t.handle(r).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_15__.K)(d=>this.errorHandler.handleError(d))):t.handle(r)}}return c.\u0275fac=function(r){return new(r||c)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.LFG(OAuthService),_angular_core__WEBPACK_IMPORTED_MODULE_1__.LFG(OAuthResourceServerErrorHandler),_angular_core__WEBPACK_IMPORTED_MODULE_1__.LFG(OAuthModuleConfig,8))},c.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_1__.Yz7({token:c,factory:c.\u0275fac}),c})();class NullValidationHandler{validateSignature(_){return Promise.resolve(null)}validateAtHash(_){return Promise.resolve(!0)}}function createDefaultLogger(){return console}function createDefaultStorage(){return"undefined"!=typeof sessionStorage?sessionStorage:new MemoryStorage}let OAuthModule=(()=>{class c{static forRoot(r=null,t=NullValidationHandler){return{ngModule:c,providers:[OAuthService,UrlHelperService,{provide:OAuthLogger,useFactory:createDefaultLogger},{provide:OAuthStorage,useFactory:createDefaultStorage},{provide:ValidationHandler,useClass:t},{provide:HashHandler,useClass:DefaultHashHandler},{provide:OAuthResourceServerErrorHandler,useClass:OAuthNoopResourceServerErrorHandler},{provide:OAuthModuleConfig,useValue:r},{provide:_angular_common_http__WEBPACK_IMPORTED_MODULE_9__.TP,useClass:DefaultOAuthInterceptor,multi:!0},{provide:DateTimeProvider,useClass:SystemDateTimeProvider}]}}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oAB({type:c}),c.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_1__.cJS({imports:[[_angular_common__WEBPACK_IMPORTED_MODULE_18__.ez]]}),c})();const err="PLEASE READ THIS CAREFULLY:\n\nBeginning with angular-oauth2-oidc version 9, the JwksValidationHandler\nhas been moved to an library of its own. If you need it for implementing\nOAuth2/OIDC **implicit flow**, please install it using npm:\n\n  npm i angular-oauth2-oidc-jwks --save\n\nAfter that, you can import it into your application:\n\n  import { JwksValidationHandler } from 'angular-oauth2-oidc-jwks';\n\nPlease note, that this dependency is not needed for the **code flow**,\nwhich is nowadays the **recommented** one for single page applications.\nThis also results in smaller bundle sizes.\n";class JwksValidationHandler extends NullValidationHandler{constructor(){super(),console.error(err)}}const AUTH_CONFIG=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.OlP("AUTH_CONFIG")}}]);